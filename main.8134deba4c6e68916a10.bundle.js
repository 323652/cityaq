webpackJsonp([1],{0:function(l,n,t){l.exports=t("cDNt")},cDNt:function(l,n,t){"use strict";function u(l){return f._33(0,[(l()(),f._13(0,0,null,null,6,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==f._26(l,2)._selectViaInteraction()&&u}if("keydown"===n){u=!1!==f._26(l,2)._handleKeydown(t)&&u}return u},C.b,C.a)),f._11(1,16384,null,0,y.p,[],null,null),f._11(2,49152,[[7,4]],0,y.n,[f.o,f.h,[2,y.m]],{value:[0,"value"]},null),(l()(),f._31(-1,0,["\n                    "])),(l()(),f._13(4,0,null,0,1,"span",[],null,null,null,null,null)),(l()(),f._31(5,null,["",""])),(l()(),f._31(-1,0,["\n                "]))],function(l,n){l(n,2,0,n.context.$implicit.city)},function(l,n){l(n,0,0,f._26(n,2)._getTabIndex(),f._26(n,2).selected,f._26(n,2).multiple,f._26(n,2).active,f._26(n,2).id,f._26(n,2).selected.toString(),f._26(n,2).disabled.toString(),f._26(n,2).disabled),l(n,5,0,n.context.$implicit.city)})}function e(l){return f._33(0,[(l()(),f._13(0,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),f._31(1,null,["",""]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.city)})}function i(l){return f._33(0,[(l()(),f._13(0,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),f._31(1,null,["\n            ",": ","\n        "]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.measurements[0].parameter,n.parent.context.$implicit.measurements[0].value)})}function o(l){return f._33(0,[(l()(),f._13(0,0,null,null,10,"mat-card",[["class","city-card mat-card"]],null,null,null,g.b,g.a)),f._11(1,16384,null,0,y.p,[],null,null),f._11(2,49152,null,0,b.a,[],null,null),f._11(3,278528,null,0,v.d,[f.x,f.y,f.o,f.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),f._31(-1,0,["\n        "])),(l()(),f._7(16777216,null,0,1,null,e)),f._11(6,16384,null,0,v.f,[f.V,f.R],{ngIf:[0,"ngIf"]},null),(l()(),f._31(-1,0,["\n        "])),(l()(),f._7(16777216,null,0,1,null,i)),f._11(9,16384,null,0,v.f,[f.V,f.R],{ngIf:[0,"ngIf"]},null),(l()(),f._31(-1,0,["\n    "]))],function(l,n){l(n,3,0,"city-card",n.component.getClass(n.context.$implicit)),l(n,6,0,n.context.$implicit),l(n,9,0,n.context.$implicit.measurements&&n.context.$implicit.measurements[0])},null)}function a(l){return f._33(0,[(l()(),f._13(0,0,null,null,44,"div",[],null,null,null,null,null)),(l()(),f._31(-1,null,["\n    "])),(l()(),f._13(2,0,null,null,38,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var u=!0;if("submit"===n){u=!1!==f._26(l,4).onSubmit(t)&&u}if("reset"===n){u=!1!==f._26(l,4).onReset()&&u}return u},null,null)),f._11(3,16384,null,0,w.p,[],null,null),f._11(4,16384,null,0,w.m,[[8,null],[8,null]],null,null),f._28(2048,null,w.b,null,[w.m]),f._11(6,16384,null,0,w.l,[w.b],null,null),(l()(),f._31(-1,null,["\n        "])),(l()(),f._13(8,0,null,null,31,"mat-form-field",[["class","cities-input mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-focused",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,k.b,k.a)),f._11(9,16384,null,0,y.p,[],null,null),f._11(10,7389184,null,6,S.a,[f.o,f.K,f.h,[2,y.h]],null,null),f._29(335544320,1,{_control:0}),f._29(335544320,2,{_placeholderChild:0}),f._29(603979776,3,{_errorChildren:1}),f._29(603979776,4,{_hintChildren:1}),f._29(603979776,5,{_prefixChildren:1}),f._29(603979776,6,{_suffixChildren:1}),(l()(),f._31(-1,1,["\n            "])),(l()(),f._13(18,16777216,null,1,9,"input",[["aria-autocomplete","list"],["aria-label","City"],["autocomplete","off"],["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","City"],["role","combobox"]],[[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"focusin"],[null,"blur"],[null,"input"],[null,"keydown"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(l,n,t){var u=!0,e=l.component;if("focusin"===n){u=!1!==f._26(l,20)._handleFocus()&&u}if("blur"===n){u=!1!==f._26(l,20)._onTouched()&&u}if("input"===n){u=!1!==f._26(l,20)._handleInput(t)&&u}if("keydown"===n){u=!1!==f._26(l,20)._handleKeydown(t)&&u}if("input"===n){u=!1!==f._26(l,21)._handleInput(t.target.value)&&u}if("blur"===n){u=!1!==f._26(l,21).onTouched()&&u}if("compositionstart"===n){u=!1!==f._26(l,21)._compositionStart()&&u}if("compositionend"===n){u=!1!==f._26(l,21)._compositionEnd(t.target.value)&&u}if("blur"===n){u=!1!==f._26(l,25)._focusChanged(!1)&&u}if("focus"===n){u=!1!==f._26(l,25)._focusChanged(!0)&&u}if("input"===n){u=!1!==f._26(l,25)._onInput()&&u}if("keyup.enter"===n){u=!1!==e.addToSearchedCities(t)&&u}return u},null,null)),f._11(19,16384,null,0,y.p,[],null,null),f._11(20,147456,null,0,q.e,[f.o,A.a,f.V,f.D,f.h,q.a,[2,V.c],[2,S.a],[2,R.b]],{autocomplete:[0,"autocomplete"]},null),f._11(21,16384,null,0,w.c,[f.K,f.o,[2,w.a]],null,null),f._28(1024,null,w.i,function(l,n){return[l,n]},[q.e,w.c]),f._11(23,540672,null,0,w.f,[[8,null],[8,null],[2,w.i]],{form:[0,"form"]},null),f._28(2048,null,w.j,null,[w.f]),f._11(25,933888,null,0,$.a,[f.o,f.K,M.a,[2,w.j],[2,w.m],[2,w.g],y.c],{placeholder:[0,"placeholder"]},null),f._11(26,16384,null,0,w.k,[w.j],null,null),f._28(2048,[[1,4]],S.b,null,[$.a]),(l()(),f._31(-1,1,["\n            "])),(l()(),f._13(29,0,null,1,9,"mat-autocomplete",[["class","mat-autocomplete"]],null,null,null,T.b,T.a)),f._11(30,16384,null,0,y.p,[],null,null),f._11(31,1097728,[["auto",4]],2,q.c,[f.h,f.o],null,null),f._29(603979776,7,{options:1}),f._29(603979776,8,{optionGroups:1}),(l()(),f._31(-1,0,["\n                "])),(l()(),f._7(16777216,null,0,2,null,u)),f._11(36,802816,null,0,v.e,[f.V,f.R,f.x],{ngForOf:[0,"ngForOf"]},null),f._27(131072,v.a,[f.h]),(l()(),f._31(-1,0,["\n            "])),(l()(),f._31(-1,1,["\n        "])),(l()(),f._31(-1,null,["\n    "])),(l()(),f._31(-1,null,["\n    "])),(l()(),f._7(16777216,null,null,1,null,o)),f._11(43,802816,null,0,v.e,[f.V,f.R,f.x],{ngForOf:[0,"ngForOf"]},null),(l()(),f._31(-1,null,["\n"]))],function(l,n){var t=n.component;l(n,20,0,f._26(n,31)),l(n,23,0,t.cityCtrl);l(n,25,0,"City"),l(n,36,0,f._32(n,36,0,f._26(n,37).transform(t.filteredCities))),l(n,43,0,t.searchedCities)},function(l,n){l(n,2,0,f._26(n,6).ngClassUntouched,f._26(n,6).ngClassTouched,f._26(n,6).ngClassPristine,f._26(n,6).ngClassDirty,f._26(n,6).ngClassValid,f._26(n,6).ngClassInvalid,f._26(n,6).ngClassPending),l(n,8,1,[f._26(n,10)._control.errorState,f._26(n,10)._control.errorState,f._26(n,10)._canPlaceholderFloat,f._26(n,10)._control.shouldPlaceholderFloat||f._26(n,10)._shouldAlwaysFloat,f._26(n,10)._control.focused,"primary"==f._26(n,10).color,"accent"==f._26(n,10).color,"warn"==f._26(n,10).color,f._26(n,10)._shouldForward("untouched"),f._26(n,10)._shouldForward("touched"),f._26(n,10)._shouldForward("pristine"),f._26(n,10)._shouldForward("dirty"),f._26(n,10)._shouldForward("valid"),f._26(n,10)._shouldForward("invalid"),f._26(n,10)._shouldForward("pending")]),l(n,18,1,[null==f._26(n,20).activeOption?null:f._26(n,20).activeOption.id,f._26(n,20).panelOpen.toString(),null==f._26(n,20).autocomplete?null:f._26(n,20).autocomplete.id,f._26(n,25).id,f._26(n,25).placeholder,f._26(n,25).disabled,f._26(n,25).required,f._26(n,25).readonly,f._26(n,25)._ariaDescribedby||null,f._26(n,25).errorState,f._26(n,26).ngClassUntouched,f._26(n,26).ngClassTouched,f._26(n,26).ngClassPristine,f._26(n,26).ngClassDirty,f._26(n,26).ngClassValid,f._26(n,26).ngClassInvalid,f._26(n,26).ngClassPending])})}function r(l){return f._33(0,[(l()(),f._13(0,0,null,null,1,"viz-search-display",[],null,null,null,a,B)),f._11(1,114688,null,0,z,[P,D],null,null)],function(l,n){l(n,1,0)},null)}function c(l){return f._33(0,[(l()(),f._13(0,0,null,null,28,"div",[["class","wrapper"]],null,null,null,null,null)),(l()(),f._31(-1,null,["\n    "])),(l()(),f._13(2,0,null,null,9,"mat-card",[["class","intro mat-card"]],null,null,null,g.b,g.a)),f._11(3,16384,null,0,y.p,[],null,null),f._11(4,49152,null,0,b.a,[],null,null),(l()(),f._31(-1,0,["\n        "])),(l()(),f._13(6,0,null,0,1,"h1",[],null,null,null,null,null)),(l()(),f._31(-1,null,["Welcome to OpenAQ Viz"])),(l()(),f._31(-1,0,["\n        "])),(l()(),f._13(9,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),f._31(-1,null,["Compare air quality for cities by searching below"])),(l()(),f._31(-1,0,["\n    "])),(l()(),f._31(-1,null,["\n\n    "])),(l()(),f._13(13,0,null,null,1,"viz-search-display",[],null,null,null,a,B)),f._11(14,114688,null,0,z,[P,D],null,null),(l()(),f._31(-1,null,["\n    \n    "])),(l()(),f._13(16,0,null,null,11,"footer",[],null,null,null,null,null)),(l()(),f._31(-1,null,["\n        "])),(l()(),f._13(18,0,null,null,8,"mat-card",[["class","mat-card"]],null,null,null,g.b,g.a)),f._11(19,16384,null,0,y.p,[],null,null),f._11(20,49152,null,0,b.a,[],null,null),(l()(),f._31(-1,0,["\n            "])),(l()(),f._13(22,0,null,0,3,"h3",[],null,null,null,null,null)),(l()(),f._31(-1,null,["Find out more about open-source air data @ "])),(l()(),f._13(24,0,null,null,1,"a",[["href","https://openaq.org"],["target","_blank"]],null,null,null,null,null)),(l()(),f._31(-1,null,["openaq.org"])),(l()(),f._31(-1,0,["\n        "])),(l()(),f._31(-1,null,["\n    "])),(l()(),f._31(-1,null,["\n"]))],function(l,n){l(n,14,0)},null)}function _(l){return f._33(0,[(l()(),f._13(0,0,null,null,1,"viz-home",[],null,null,null,c,K)),f._11(1,114688,null,0,E,[P,D],null,null)],function(l,n){l(n,1,0)},null)}function s(l){return f._33(0,[(l()(),f._13(0,0,null,null,1,"viz-home",[],null,null,null,c,K)),f._11(1,114688,null,0,E,[P,D],null,null)],function(l,n){l(n,1,0)},null)}function d(l){return f._33(0,[(l()(),f._13(0,0,null,null,1,"viz-app",[],null,null,null,s,N)),f._11(1,49152,null,0,m,[],null,null)],null,null)}Object.defineProperty(n,"__esModule",{value:!0});var f=t("/oeL"),p={production:!0,openaqApiUrl:"https://api.openaq.org/v1/"},h=function(){function l(){}return l}(),m=function(){function l(){}return l}(),g=t("z4MQ"),y=t("j5BN"),b=t("Ioj9"),C=t("8oXs"),v=t("qbdv"),w=t("bm2B"),k=t("6OSA"),S=t("Lpd/"),x=t("CPp0"),I=function(l){var n=[];for(var t in l)n.push(encodeURIComponent(t)+"="+encodeURIComponent(l[t]));return n.join("&")},F=(t("GQSG"),function(){function l(l){this.http=l}return l.prototype.getCities=function(l){return this.http.get(p.openaqApiUrl+"cities?"+I(l)).map(function(l){return l.json().results})},l.ctorParameters=function(){return[{type:x.d}]},l}()),j=function(){function l(){}return l}(),P=function(){function l(l){this.citiesApi=l}return l.prototype.getAllCities=function(){var l=new j;return l.limit=9999,this.citiesApi.getCities(l)},l.ctorParameters=function(){return[{type:F}]},l}(),L=function(){function l(l){this.http=l}return l.prototype.getLatest=function(l){return this.http.get(p.openaqApiUrl+"latest?"+I(l)).map(function(l){return l.json().results})},l.ctorParameters=function(){return[{type:x.d}]},l}(),O=function(){function l(){}return l}(),D=function(){function l(l){this.latestApi=l}return l.prototype.getLatestPM25ByCity=function(l){var n=new O;return n.city=l,n.parameter="pm25",this.latestApi.getLatest(n)},l.ctorParameters=function(){return[{type:L}]},l}(),z=(t("RXa1"),function(){function l(l,n){this.citiesService=l,this.latestService=n,this.testMsg="Hello - I am Home.",this.allCities=[],this.searchedCities=[]}return l.prototype.ngOnInit=function(){var l=this;this.cityCtrl=new w.e,this.loadCities(),this.filteredCities=this.cityCtrl.valueChanges.startWith(null).map(function(n){return n?l.filterCities(n):l.allCities.slice()})},l.prototype.loadCities=function(){var l=this;console.log("loadCities called"),this.citiesService.getAllCities().subscribe(function(n){l.allCities=n,console.log(l.allCities)})},l.prototype.loadLatest=function(l){var n=this;console.log("loadLatest called"),this.latestService.getLatestPM25ByCity(l).subscribe(function(l){console.log(l),n.searchedCities.push(l[0])})},l.prototype.filterCities=function(l){return this.allCities.filter(function(n){return 0===n.city.toLowerCase().indexOf(l.toLowerCase())})},l.prototype.addToSearchedCities=function(l){console.log("addToSearched called",this.cityCtrl.value),this.loadLatest(this.cityCtrl.value)},l.prototype.getClass=function(l){var n=l&&l.measurements&&l.measurements[0]&&l.measurements[0].value;return n?n<20?"green":n<40?"orange":n<70?"red":"dark-red":"black"},l.ctorParameters=function(){return[{type:P},{type:D}]},l}()),q=t("1ini"),A=t("OFGE"),V=t("l6RC"),R=t("fc+i"),$=t("SlD5"),M=t("V8+5"),T=t("Elun"),U=[],B=f._10({encapsulation:2,styles:U,data:{}}),E=(f._8("viz-search-display",z,r,{},{},[]),function(){function l(l,n){this.citiesService=l,this.latestService=n,this.testMsg="Hello - I am Home.",this.allCities=[]}return l.prototype.ngOnInit=function(){},l.prototype.loadCities=function(){var l=this;console.log("loadCities called"),this.citiesService.getAllCities().subscribe(function(n){for(var t=0;t<50;t++)l.allCities.push(n[t]);console.log(l.allCities)})},l.prototype.loadLatest=function(l){var n=this;console.log("loadLatest called"),this.latestService.getLatestPM25ByCity(l).subscribe(function(l){n.latestInfo=l[0]})},l.ctorParameters=function(){return[{type:P},{type:D}]},l}()),H=[],K=f._10({encapsulation:2,styles:H,data:{}}),G=(f._8("viz-home",E,_,{},{},[]),[]),N=f._10({encapsulation:2,styles:G,data:{}}),Q=f._8("viz-app",m,d,{},{},[]),W=t("f9zQ"),X=t("fL27"),J=t("8Xfy"),Y=t("4jwp"),Z=t("EyWH"),ll=function(){function l(){}return l}(),nl=function(){function l(){}return l}(),tl=function(){function l(){}return l}(),ul=t("ghl+"),el=t("CZgk"),il=function(){function l(){}return l}(),ol=function(){function l(){}return l}(),al=function(){function l(){}return l}(),rl=function(){function l(){}return l}(),cl=f._9(h,[m],function(l){return f._23([f._24(512,f.k,f._5,[[8,[Q]],[3,f.k],f.B]),f._24(5120,f.z,f._22,[[3,f.z]]),f._24(4608,v.h,v.g,[f.z]),f._24(4608,f.i,f.i,[]),f._24(5120,f.a,f._14,[]),f._24(5120,f.x,f._19,[]),f._24(5120,f.y,f._20,[]),f._24(4608,R.c,R.t,[v.c]),f._24(6144,f.N,null,[R.c]),f._24(4608,R.f,R.g,[]),f._24(5120,R.d,function(l,n,t,u){return[new R.l(l),new R.p(n),new R.o(t,u)]},[v.c,v.c,v.c,R.f]),f._24(4608,R.e,R.e,[R.d,f.D]),f._24(135680,R.n,R.n,[v.c]),f._24(4608,R.m,R.m,[R.e,R.n]),f._24(5120,W.a,X.d,[]),f._24(5120,W.c,X.e,[]),f._24(4608,W.b,X.c,[W.a,W.c]),f._24(5120,f.L,X.f,[R.m,W.b,f.D]),f._24(6144,R.q,null,[R.n]),f._24(4608,f.S,f.S,[f.D]),f._24(4608,R.h,R.h,[v.c]),f._24(4608,R.j,R.j,[v.c]),f._24(4608,x.c,x.c,[]),f._24(4608,x.g,x.b,[]),f._24(5120,x.i,x.j,[]),f._24(4608,x.h,x.h,[x.c,x.g,x.i]),f._24(4608,x.f,x.a,[]),f._24(5120,x.d,x.k,[x.h,x.f]),f._24(4608,F,F,[x.d]),f._24(4608,L,L,[x.d]),f._24(4608,P,P,[F]),f._24(4608,D,D,[L]),f._24(6144,V.b,null,[R.b]),f._24(4608,V.c,V.c,[[2,V.b]]),f._24(4608,M.a,M.a,[]),f._24(4608,J.h,J.h,[M.a]),f._24(4608,J.g,J.g,[J.h,M.a,f.D]),f._24(136192,J.d,J.b,[[3,J.d],M.a]),f._24(5120,J.k,J.j,[[3,J.k],[2,J.i],M.a]),f._24(5120,J.f,J.e,[[3,J.f],f.D,M.a]),f._24(5120,Y.c,Y.a,[[3,Y.c],f.D,M.a]),f._24(5120,Y.f,Y.e,[[3,Y.f],M.a,f.D,Y.c]),f._24(4608,A.e,A.e,[Y.c,Y.f]),f._24(5120,A.c,A.f,[[3,A.c]]),f._24(4608,A.i,A.i,[Y.f]),f._24(4608,A.a,A.a,[A.e,A.c,f.k,A.i,f.e,f.v,f.D]),f._24(5120,A.g,A.h,[A.a]),f._24(5120,q.a,q.b,[A.a]),f._24(4608,y.c,y.c,[]),f._24(4608,Z.b,X.b,[f.L,R.b]),f._24(4608,w.q,w.q,[]),f._24(4608,w.d,w.d,[]),f._24(512,v.b,v.b,[]),f._24(1024,f.p,R.r,[]),f._24(1024,f.b,function(l,n){return[R.s(l,n)]},[[2,R.i],[2,f.C]]),f._24(512,f.c,f.c,[[2,f.b]]),f._24(131584,f._12,f._12,[f.D,f._6,f.v,f.p,f.k,f.c]),f._24(2048,f.e,null,[f._12]),f._24(512,f.d,f.d,[f.e]),f._24(512,R.a,R.a,[[3,R.a]]),f._24(512,x.e,x.e,[]),f._24(512,ll,ll,[]),f._24(512,nl,nl,[]),f._24(512,tl,tl,[]),f._24(512,y.a,y.a,[]),f._24(512,V.a,V.a,[]),f._24(256,y.d,!0,[]),f._24(512,y.j,y.j,[[2,y.d]]),f._24(512,b.c,b.c,[]),f._24(512,M.b,M.b,[]),f._24(512,y.t,y.t,[]),f._24(512,J.a,J.a,[]),f._24(512,ul.a,ul.a,[]),f._24(512,y.r,y.r,[]),f._24(512,y.o,y.o,[]),f._24(512,el.b,el.b,[]),f._24(512,Y.b,Y.b,[]),f._24(512,A.d,A.d,[]),f._24(512,q.d,q.d,[]),f._24(512,S.c,S.c,[]),f._24(512,$.b,$.b,[]),f._24(512,il,il,[]),f._24(512,X.a,X.a,[]),f._24(512,ol,ol,[]),f._24(512,w.o,w.o,[]),f._24(512,w.h,w.h,[]),f._24(512,w.n,w.n,[]),f._24(512,al,al,[]),f._24(512,rl,rl,[]),f._24(512,h,h,[])])});p.production&&Object(f.Z)(),Object(R.k)().bootstrapModuleFactory(cl).catch(function(l){return console.log(l)})},gFIY:function(l,n){function t(l){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+l+"'.")})}t.keys=function(){return[]},t.resolve=t,l.exports=t,t.id="gFIY"}},[0]);