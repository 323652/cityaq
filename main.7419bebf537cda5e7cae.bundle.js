webpackJsonp([1],{0:function(n,l,t){n.exports=t("cDNt")},cDNt:function(n,l,t){"use strict";function e(n){return k._35(0,[(n()(),k._13(0,0,null,null,9,"button",[["class","mat-icon-button"],["mat-icon-button",""]],[[8,"disabled",0]],null,null,U.b,U.a)),k._11(1,16384,null,0,x.p,[],null,null),k._11(2,180224,null,0,T.b,[k.K,k.o,N.a,q.f],null,null),k._11(3,16384,null,0,T.d,[],null,null),(n()(),k._33(-1,0,["\n            "])),(n()(),k._13(5,0,null,0,3,"mat-icon",[["aria-label","CityAQ introduction"],["class","mat-icon"],["role","img"]],null,null,null,z.b,z.a)),k._11(6,16384,null,0,x.p,[],null,null),k._11(7,638976,null,0,E.b,[k.K,k.o,E.d,[8,null]],null,null),(n()(),k._33(-1,0,["info"])),(n()(),k._33(-1,0,["\n        "]))],function(n,l){n(l,7,0)},function(n,l){n(l,0,0,k._26(l,2).disabled||null)})}function a(n){return k._35(0,[(n()(),k._13(0,0,null,null,5,"div",[["class","banner-color"]],null,null,null,null,null)),k._11(1,278528,null,0,D.e,[k.x,k.y,k.o,k.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),k._33(-1,null,["\n        "])),(n()(),k._7(16777216,null,null,1,null,e)),k._11(4,16384,null,0,D.g,[k.V,k.R],{ngIf:[0,"ngIf"]},null),(n()(),k._33(-1,null,["\n    "]))],function(n,l){n(l,1,0,"banner-color","bg-"+l.context.$implicit),n(l,4,0,l.context.first)},null)}function u(n){return k._35(0,[(n()(),k._13(0,0,null,null,4,"div",[["class","banner-wrapper"]],null,null,null,null,null)),(n()(),k._33(-1,null,["    \n    "])),(n()(),k._7(16777216,null,null,1,null,a)),k._11(3,802816,null,0,D.f,[k.V,k.R,k.x],{ngForOf:[0,"ngForOf"]},null),(n()(),k._33(-1,null,["\n"]))],function(n,l){n(l,3,0,l.component.colors)},null)}function r(n){return k._35(0,[(n()(),k._13(0,0,null,null,1,"aq-banner",[],null,null,null,u,H)),k._11(1,114688,null,0,V,[],null,null)],function(n,l){n(l,1,0)},null)}function i(n){return k._35(0,[(n()(),k._13(0,0,null,null,9,"mat-card",[["class","intro mat-card"]],null,null,null,J.d,J.a)),k._11(1,16384,null,0,x.p,[],null,null),k._11(2,49152,null,0,W.a,[],null,null),(n()(),k._33(-1,0,["\n    "])),(n()(),k._13(4,0,null,0,1,"h1",[],null,null,null,null,null)),(n()(),k._33(-1,null,["Welcome to CityAQ"])),(n()(),k._33(-1,0,["\n    "])),(n()(),k._13(7,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),k._33(-1,null,["Compare air quality for cities by searching below"])),(n()(),k._33(-1,0,["\n"]))],null,null)}function o(n){return k._35(0,[(n()(),k._13(0,0,null,null,1,"aq-intro",[],null,null,null,i,X)),k._11(1,49152,null,0,Y,[],null,null)],null,null)}function s(n){return k._35(0,[(n()(),k._13(0,0,null,null,2,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["color","accent"],["mode","indeterminate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null]],null,null,un.b,un.a)),k._11(1,16384,null,0,x.p,[],null,null),k._11(2,49152,null,0,rn.a,[],{color:[0,"color"],mode:[1,"mode"]},null)],function(n,l){n(l,2,0,"accent","indeterminate")},function(n,l){n(l,0,0,k._26(l,2).value,k._26(l,2).mode,"primary"==k._26(l,2).color,"accent"==k._26(l,2).color,"warn"==k._26(l,2).color)})}function c(n){return k._35(0,[(n()(),k._13(0,0,null,null,7,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(n,l,t){var e=!0;if("click"===l){e=!1!==k._26(n,2)._selectViaInteraction()&&e}if("keydown"===l){e=!1!==k._26(n,2)._handleKeydown(t)&&e}return e},on.b,on.a)),k._11(1,16384,null,0,x.p,[],null,null),k._11(2,49152,[[7,4]],0,x.n,[k.o,k.h,[2,x.m]],{value:[0,"value"]},null),(n()(),k._33(-1,0,["\n                "])),(n()(),k._13(4,0,null,0,2,"span",[],null,null,null,null,null)),(n()(),k._33(5,null,["",""])),k._29(6,1),(n()(),k._33(-1,0,["\n            "]))],function(n,l){n(l,2,0,l.context.$implicit.city)},function(n,l){n(l,0,0,k._26(l,2)._getTabIndex(),k._26(l,2).selected,k._26(l,2).multiple,k._26(l,2).active,k._26(l,2).id,k._26(l,2).selected.toString(),k._26(l,2).disabled.toString(),k._26(l,2).disabled),n(l,5,0,k._34(l,5,0,n(l,6,0,k._26(l.parent,0),l.context.$implicit.city)))})}function p(n){return k._35(0,[k._27(0,D.n,[]),(n()(),k._13(1,0,null,null,41,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var e=!0;if("submit"===l){e=!1!==k._26(n,3).onSubmit(t)&&e}if("reset"===l){e=!1!==k._26(n,3).onReset()&&e}return e},null,null)),k._11(2,16384,null,0,sn.n,[],null,null),k._11(3,540672,null,0,sn.f,[[8,null],[8,null]],{form:[0,"form"]},null),k._30(2048,null,sn.b,null,[sn.f]),k._11(5,16384,null,0,sn.j,[sn.b],null,null),(n()(),k._33(-1,null,["\n    "])),(n()(),k._13(7,0,null,null,34,"mat-form-field",[["class","cities-input mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-focused",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,cn.b,cn.a)),k._11(8,16384,null,0,x.p,[],null,null),k._11(9,7389184,null,6,pn.a,[k.o,k.K,k.h,[2,x.h]],null,null),k._31(335544320,1,{_control:0}),k._31(335544320,2,{_placeholderChild:0}),k._31(603979776,3,{_errorChildren:1}),k._31(603979776,4,{_hintChildren:1}),k._31(603979776,5,{_prefixChildren:1}),k._31(603979776,6,{_suffixChildren:1}),(n()(),k._33(-1,1,["\n        "])),(n()(),k._13(17,16777216,null,1,9,"input",[["aria-autocomplete","list"],["aria-label","City"],["autocomplete","off"],["class","mat-input-element mat-form-field-autofill-control"],["formControlName","searchInput"],["matInput",""],["placeholder","City"],["role","combobox"]],[[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0]],[[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focusin"],[null,"keydown"],[null,"focus"]],function(n,l,t){var e=!0,a=n.component;if("input"===l){e=!1!==k._26(n,18)._handleInput(t.target.value)&&e}if("blur"===l){e=!1!==k._26(n,18).onTouched()&&e}if("compositionstart"===l){e=!1!==k._26(n,18)._compositionStart()&&e}if("compositionend"===l){e=!1!==k._26(n,18)._compositionEnd(t.target.value)&&e}if("focusin"===l){e=!1!==k._26(n,19)._handleFocus()&&e}if("blur"===l){e=!1!==k._26(n,19)._onTouched()&&e}if("input"===l){e=!1!==k._26(n,19)._handleInput(t)&&e}if("keydown"===l){e=!1!==k._26(n,19)._handleKeydown(t)&&e}if("blur"===l){e=!1!==k._26(n,25)._focusChanged(!1)&&e}if("focus"===l){e=!1!==k._26(n,25)._focusChanged(!0)&&e}if("input"===l){e=!1!==k._26(n,25)._onInput()&&e}if("keyup.enter"===l){e=!1!==a.attemptSearch()&&e}return e},null,null)),k._11(18,16384,null,0,sn.c,[k.K,k.o,[2,sn.a]],null,null),k._11(19,147456,null,0,yn.e,[k.o,mn.a,k.V,k.D,k.h,yn.a,[2,gn.c],[2,pn.a],[2,vn.b]],{autocomplete:[0,"autocomplete"]},null),k._30(1024,null,sn.g,function(n,l){return[n,l]},[sn.c,yn.e]),k._11(21,671744,null,0,sn.e,[[3,sn.b],[8,null],[8,null],[2,sn.g]],{name:[0,"name"]},null),k._30(2048,null,sn.h,null,[sn.e]),k._11(23,16384,null,0,sn.i,[sn.h],null,null),k._11(24,16384,null,0,x.p,[],null,null),k._11(25,933888,null,0,Cn.a,[k.o,k.K,N.a,[2,sn.h],[2,sn.k],[2,sn.f],x.c],{placeholder:[0,"placeholder"]},null),k._30(2048,[[1,4]],pn.b,null,[Cn.a]),(n()(),k._33(-1,1,["   \n        "])),(n()(),k._7(16777216,null,1,1,null,s)),k._11(29,16384,null,0,D.g,[k.V,k.R],{ngIf:[0,"ngIf"]},null),(n()(),k._33(-1,1,["     \n        "])),(n()(),k._13(31,0,null,1,9,"mat-autocomplete",[["class","mat-autocomplete"]],null,null,null,bn.b,bn.a)),k._11(32,16384,null,0,x.p,[],null,null),k._11(33,1097728,[["auto",4]],2,yn.c,[k.h,k.o],null,null),k._31(603979776,7,{options:1}),k._31(603979776,8,{optionGroups:1}),(n()(),k._33(-1,0,["\n            "])),(n()(),k._7(16777216,null,0,2,null,c)),k._11(38,802816,null,0,D.f,[k.V,k.R,k.x],{ngForOf:[0,"ngForOf"]},null),k._27(131072,D.a,[k.h]),(n()(),k._33(-1,0,["\n        "])),(n()(),k._33(-1,1,["        \n    "])),(n()(),k._33(-1,null,["    \n"]))],function(n,l){var t=l.component;n(l,3,0,t.searchForm),n(l,19,0,k._26(l,33));n(l,21,0,"searchInput");n(l,25,0,"City"),n(l,29,0,t.searching),n(l,38,0,k._34(l,38,0,k._26(l,39).transform(t.filteredCities)))},function(n,l){n(l,1,0,k._26(l,5).ngClassUntouched,k._26(l,5).ngClassTouched,k._26(l,5).ngClassPristine,k._26(l,5).ngClassDirty,k._26(l,5).ngClassValid,k._26(l,5).ngClassInvalid,k._26(l,5).ngClassPending),n(l,7,1,[k._26(l,9)._control.errorState,k._26(l,9)._control.errorState,k._26(l,9)._canPlaceholderFloat,k._26(l,9)._control.shouldPlaceholderFloat||k._26(l,9)._shouldAlwaysFloat,k._26(l,9)._control.focused,"primary"==k._26(l,9).color,"accent"==k._26(l,9).color,"warn"==k._26(l,9).color,k._26(l,9)._shouldForward("untouched"),k._26(l,9)._shouldForward("touched"),k._26(l,9)._shouldForward("pristine"),k._26(l,9)._shouldForward("dirty"),k._26(l,9)._shouldForward("valid"),k._26(l,9)._shouldForward("invalid"),k._26(l,9)._shouldForward("pending")]),n(l,17,1,[null==k._26(l,19).activeOption?null:k._26(l,19).activeOption.id,k._26(l,19).panelOpen.toString(),null==k._26(l,19).autocomplete?null:k._26(l,19).autocomplete.id,k._26(l,23).ngClassUntouched,k._26(l,23).ngClassTouched,k._26(l,23).ngClassPristine,k._26(l,23).ngClassDirty,k._26(l,23).ngClassValid,k._26(l,23).ngClassInvalid,k._26(l,23).ngClassPending,k._26(l,25).id,k._26(l,25).placeholder,k._26(l,25).disabled,k._26(l,25).required,k._26(l,25).readonly,k._26(l,25)._ariaDescribedby||null,k._26(l,25).errorState])})}function d(n){return k._35(0,[(n()(),k._13(0,0,null,null,1,"aq-search",[],null,null,null,p,Sn)),k._11(1,114688,null,0,hn,[sn.d,dn,fn],null,null)],function(n,l){n(l,1,0)},null)}function _(n){return k._35(0,[k._27(0,D.d,[k.z]),k._27(0,Mn,[]),(n()(),k._13(2,0,null,null,10,"div",[["class","parameter-average-indicator"]],null,null,null,null,null)),(n()(),k._33(-1,null,["\n    "])),(n()(),k._13(4,0,null,null,3,"span",[["class","average-concentration"]],null,null,null,null,null)),k._11(5,278528,null,0,D.e,[k.x,k.y,k.o,k.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),k._33(6,null,["\n        ","\n    "])),k._29(7,2),(n()(),k._33(-1,null,["\n    "])),(n()(),k._13(9,0,null,null,2,"span",[["class","average-parameter"]],null,null,null,null,null)),(n()(),k._33(10,null,["\n        ","\n    "])),k._29(11,1),(n()(),k._33(-1,null,["       \n"])),(n()(),k._33(-1,null,["\n"])),(n()(),k._13(14,0,null,null,1,"span",[["class","average-unit"]],null,null,null,null,null)),(n()(),k._33(15,null,["\n    ","\n"]))],function(n,l){var t=l.component;n(l,5,0,"average-concentration","text-"+(null==t.average?null:t.average.class))},function(n,l){var t=l.component;n(l,6,0,k._34(l,6,0,n(l,7,0,k._26(l,0),null==t.average?null:t.average.concentration,"1.0-2"))),n(l,10,0,k._34(l,10,0,n(l,11,0,k._26(l,1),null==t.average?null:t.average.parameter))),n(l,15,0,t.average.unit)})}function f(n){return k._35(0,[(n()(),k._13(0,0,null,null,1,"aq-parameter-average-indicator",[],null,null,null,_,kn)),k._11(1,114688,null,0,Bn,[Ln],null,null)],function(n,l){n(l,1,0)},null)}function h(n){return k._35(0,[(n()(),k._13(0,0,null,null,2,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["color","accent"],["mode","indeterminate"],["role","progressbar"]],[[24,"@fade",0],[4,"width","px"],[4,"height","px"]],null,null,Gn.b,Gn.a)),k._11(1,16384,null,0,x.p,[],null,null),k._11(2,573440,null,0,Un.c,[k.K,k.o,N.a,[2,D.c]],{color:[0,"color"],diameter:[1,"diameter"],strokeWidth:[2,"strokeWidth"]},null)],function(n,l){n(l,2,0,"accent",54,5)},function(n,l){n(l,0,0,void 0,k._26(l,2)._elementSize,k._26(l,2)._elementSize)})}function y(n){return k._35(0,[(n()(),k._13(0,0,null,null,6,"div",[["class","aqi-indicator"]],[[24,"@fade",0]],null,null,null,null)),k._11(1,278528,null,0,D.e,[k.x,k.y,k.o,k.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),k._33(-1,null,["\n        "])),(n()(),k._13(3,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),k._33(4,null,["",""])),k._29(5,2),(n()(),k._33(-1,null,["\n    "]))],function(n,l){n(l,1,0,"aqi-indicator",l.component.indicatorClass)},function(n,l){var t=l.component;n(l,0,0,void 0),n(l,4,0,k._34(l,4,0,n(l,5,0,k._26(l.parent,0),t.AQI,"1.0-0")))})}function m(n){return k._35(0,[k._27(0,D.d,[k.z]),(n()(),k._13(1,0,null,null,7,"div",[["class","aqi-indicator-wrapper"]],null,null,null,null,null)),(n()(),k._33(-1,null,["\n    "])),(n()(),k._7(16777216,null,null,1,null,h)),k._11(4,16384,null,0,D.g,[k.V,k.R],{ngIf:[0,"ngIf"]},null),(n()(),k._33(-1,null,["\n    "])),(n()(),k._7(16777216,null,null,1,null,y)),k._11(7,16384,null,0,D.g,[k.V,k.R],{ngIf:[0,"ngIf"]},null),(n()(),k._33(-1,null,["\n"]))],function(n,l){var t=l.component;n(l,4,0,null==t.AQI),n(l,7,0,null!=t.AQI)},null)}function g(n){return k._35(0,[(n()(),k._13(0,0,null,null,1,"aq-aqi-indicator",[],null,null,null,m,Nn)),k._11(1,114688,null,0,xn,[Ln],null,null)],function(n,l){n(l,1,0)},null)}function v(n){return k._35(0,[(n()(),k._13(0,0,null,null,2,"div",[["class","city-map-background"]],[[24,"@fade",0]],null,null,null,null)),k._11(1,278528,null,0,D.j,[k.y,k.o,k.J],{ngStyle:[0,"ngStyle"]},null),k._28(2,{"background-image":0})],function(n,l){n(l,1,0,n(l,2,0,"url("+l.component.staticMapsURL+")"))},function(n,l){n(l,0,0,void 0)})}function C(n){return k._35(0,[(n()(),k._13(0,0,null,null,1,"aq-parameter-average-indicator",[],null,null,null,_,kn)),k._11(1,114688,null,0,Bn,[Ln],{average:[0,"average"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},null)}function b(n){return k._35(0,[k._27(0,D.n,[]),k._27(0,Fn,[]),(n()(),k._13(2,0,null,null,53,"mat-card",[["class","city-card mat-card"]],null,null,null,J.d,J.a)),k._11(3,16384,null,0,x.p,[],null,null),k._11(4,49152,null,0,W.a,[],null,null),(n()(),k._33(-1,0,["\n    "])),(n()(),k._13(6,0,null,0,4,"div",[],null,null,null,null,null)),(n()(),k._33(-1,null,["\n        "])),(n()(),k._7(16777216,null,null,1,null,v)),k._11(9,16384,null,0,D.g,[k.V,k.R],{ngIf:[0,"ngIf"]},null),(n()(),k._33(-1,null,[" \n    "])),(n()(),k._33(-1,0,["        \n    "])),(n()(),k._13(12,0,null,0,30,"mat-card-header",[["class","mat-card-header"]],null,null,null,J.c,J.b)),k._11(13,278528,null,0,D.e,[k.x,k.y,k.o,k.J],{ngClass:[0,"ngClass"]},null),k._11(14,16384,null,0,x.p,[],null,null),k._11(15,49152,null,0,W.c,[],null,null),(n()(),k._33(-1,2,["\n        "])),(n()(),k._13(17,0,null,2,1,"aq-aqi-indicator",[],null,null,null,m,Nn)),k._11(18,114688,null,0,xn,[Ln],{AQI:[0,"AQI"],overall:[1,"overall"]},null),(n()(),k._33(-1,2,["  \n        "])),(n()(),k._13(20,0,null,2,10,"div",[["class","city-title"]],null,null,null,null,null)),(n()(),k._33(-1,null,["\n            "])),(n()(),k._13(22,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),k._33(23,null,["",""])),k._29(24,1),(n()(),k._33(-1,null,["\n            "])),(n()(),k._13(26,0,null,null,3,"h5",[],null,null,null,null,null)),(n()(),k._33(27,null,["",""])),k._29(28,1),k._29(29,1),(n()(),k._33(-1,null,["\n        "])),(n()(),k._33(-1,2,["\n        "])),(n()(),k._13(32,0,null,2,9,"button",[["class","mat-icon-button"],["mat-icon-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,a=n.component;if("click"===l){e=!1!==a.toggleContent()&&e}return e},U.b,U.a)),k._11(33,16384,null,0,x.p,[],null,null),k._11(34,180224,null,0,T.b,[k.K,k.o,N.a,q.f],null,null),k._11(35,16384,null,0,T.d,[],null,null),(n()(),k._33(-1,0,["\n            "])),(n()(),k._13(37,0,null,0,3,"mat-icon",[["aria-label","Additional city options"],["class","mat-icon"],["role","img"]],null,null,null,z.b,z.a)),k._11(38,16384,null,0,x.p,[],null,null),k._11(39,638976,null,0,E.b,[k.K,k.o,E.d,[8,null]],null,null),(n()(),k._33(40,0,["",""])),(n()(),k._33(-1,0,["\n        "])),(n()(),k._33(-1,2,["\n    "])),(n()(),k._33(-1,0,["\n    "])),(n()(),k._13(44,0,null,0,10,"mat-card-content",[["class","bg-0-7-white mat-card-content"]],null,null,null,null,null)),k._11(45,278528,null,0,D.e,[k.x,k.y,k.o,k.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),k._11(46,16384,null,0,x.p,[],null,null),k._11(47,16384,null,0,W.b,[],null,null),(n()(),k._33(-1,null,["\n        "])),(n()(),k._13(49,0,null,null,4,"div",[["class","parameter-averages"]],null,null,null,null,null)),(n()(),k._33(-1,null,["\n            "])),(n()(),k._7(16777216,null,null,1,null,C)),k._11(52,802816,null,0,D.f,[k.V,k.R,k.x],{ngForOf:[0,"ngForOf"]},null),(n()(),k._33(-1,null,["\n        "])),(n()(),k._33(-1,null,["\n    "])),(n()(),k._33(-1,0,["\n"]))],function(n,l){var t=l.component;n(l,9,0,t.staticMapsURL),n(l,13,0,"bg-0-7-"+t.overallAQIClass);n(l,18,0,t.overallAQI,!0),n(l,39,0);n(l,45,0,"bg-0-7-white",t.contentClass),n(l,52,0,t.parameterAverages)},function(n,l){var t=l.component;n(l,23,0,k._34(l,23,0,n(l,24,0,k._26(l,0),t.searchedCity.city))),n(l,27,0,k._34(l,27,0,n(l,29,0,k._26(l,0),k._34(l,27,0,n(l,28,0,k._26(l,1),t.searchedCity.country))))),n(l,32,0,k._26(l,34).disabled||null),n(l,40,0,t.buttonIcon)})}function A(n){return k._35(0,[(n()(),k._13(0,0,null,null,1,"aq-city-card",[],null,null,null,b,ll)),k._11(1,114688,null,0,$n,[zn,Kn,Xn],null,null)],function(n,l){n(l,1,0)},null)}function S(n){return k._35(0,[(n()(),k._13(0,0,null,null,4,"div",[],[[24,"@fadeSlide",0]],null,null,null,null)),(n()(),k._33(-1,null,["\n    "])),(n()(),k._13(2,0,null,null,1,"aq-city-card",[],null,null,null,b,ll)),k._11(3,114688,null,0,$n,[zn,Kn,Xn],{searchedCity:[0,"searchedCity"]},null),(n()(),k._33(-1,null,["\n"]))],function(n,l){n(l,3,0,l.context.$implicit)},function(n,l){n(l,0,0,void 0)})}function I(n){return k._35(0,[(n()(),k._7(16777216,null,null,1,null,S)),k._11(1,802816,null,0,D.f,[k.V,k.R,k.x],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,1,0,l.component.searchedCities)},null)}function M(n){return k._35(0,[(n()(),k._13(0,0,null,null,1,"aq-city-cards-list",[],null,null,null,I,al)),k._11(1,114688,null,0,tl,[],null,null)],function(n,l){n(l,1,0)},null)}function P(n){return k._35(0,[(n()(),k._13(0,0,null,null,1,"aq-search",[],null,[[null,"addSearchedCity"]],function(n,l,t){var e=!0,a=n.component;if("addSearchedCity"===l){e=!1!==a.addSearchedCity(t)&&e}return e},p,Sn)),k._11(1,114688,null,0,hn,[sn.d,dn,fn],{allCities:[0,"allCities"]},{addSearchedCity:"addSearchedCity"}),(n()(),k._33(-1,null,["\n"])),(n()(),k._13(3,0,null,null,1,"aq-city-cards-list",[],null,null,null,I,al)),k._11(4,114688,null,0,tl,[],{searchedCities:[0,"searchedCities"]},null)],function(n,l){var t=l.component;n(l,1,0,t.allCities),n(l,4,0,t.searchedCities)},null)}function O(n){return k._35(0,[(n()(),k._13(0,0,null,null,1,"aq-compare",[],null,null,null,P,rl)),k._11(1,114688,null,0,an,[en,$],null,null)],function(n,l){n(l,1,0)},null)}function w(n){return k._35(0,[(n()(),k._13(0,0,null,null,1,"aq-banner",[],null,null,null,u,H)),k._11(1,114688,null,0,V,[],null,null),(n()(),k._33(-1,null,["\n"])),(n()(),k._13(3,0,null,null,7,"div",[["class","wrapper"]],null,null,null,null,null)),(n()(),k._33(-1,null,["\n    "])),(n()(),k._13(5,0,null,null,1,"aq-intro",[],null,null,null,i,X)),k._11(6,49152,null,0,Y,[],null,null),(n()(),k._33(-1,null,["\n    "])),(n()(),k._13(8,0,null,null,1,"aq-compare",[],null,null,null,P,rl)),k._11(9,114688,null,0,an,[en,$],null,null),(n()(),k._33(-1,null,["\n"]))],function(n,l){n(l,1,0),n(l,9,0)},null)}function L(n){return k._35(0,[(n()(),k._13(0,0,null,null,1,"aq-home",[],null,null,null,w,sl)),k._11(1,49152,null,0,il,[],null,null)],null,null)}function B(n){return k._35(0,[(n()(),k._13(0,0,null,null,1,"aq-home",[],null,null,null,w,sl)),k._11(1,49152,null,0,il,[],null,null)],null,null)}function Q(n){return k._35(0,[(n()(),k._13(0,0,null,null,1,"aq-app",[],null,null,null,B,pl)),k._11(1,49152,null,0,G,[],null,null)],null,null)}Object.defineProperty(l,"__esModule",{value:!0});var k=t("/oeL"),F={production:!0,openaqApiUrl:"https://api.openaq.org/v1/",mapsApiUrl:"https://maps.googleapis.com/maps/api/",staticMapsKey:"AIzaSyBJ4wQTemqdOaXFsAmZotfakpevljfN2iY",randomizedMapsLongitude:!0},R=function(){function n(){}return n}(),G=function(){function n(){}return n.ctorParameters=function(){return[]},n}(),U=t("wjk8"),x=t("j5BN"),T=t("ghl+"),N=t("V8+5"),q=t("8Xfy"),z=t("Bhux"),E=t("vgc3"),D=t("qbdv"),K={green:[0,230,118],yellow:[255,196,0],orange:[255,110,0],red:[213,0,0],purple:[171,71,188],maroon:[136,14,79]},V=function(){function n(){this.colors=[]}return n.prototype.ngOnInit=function(){this.setColors()},n.prototype.setColors=function(){var n=this;Object.keys(K).reverse().forEach(function(l){return n.colors.push(l)})},n.ctorParameters=function(){return[]},n}(),j=[],H=k._10({encapsulation:2,styles:j,data:{}}),J=(k._8("aq-banner",V,r,{},{},[]),t("z4MQ")),W=t("Ioj9"),Y=function(){function n(){}return n.ctorParameters=function(){return[]},n}(),Z=[],X=k._10({encapsulation:2,styles:Z,data:{}}),$=(k._8("aq-intro",Y,o,{},{},[]),function(){function n(){}return n.prototype.sortCities=function(n,l){var t=n.city.toLowerCase(),e=l.city.toLowerCase();return t<e?-1:t>e?1:0},n}()),nn=t("CPp0"),ln=function(){function n(){}return n.prototype.buildBaseQueryString=function(n){return this.setBaseQueryArray(n).join("&")||""},n.prototype.buildOpenAQQueryString=function(n){return this.buildQueryStringIncludingArrayProps(n,"[]")},n.prototype.buildMapsQueryString=function(n){return this.buildQueryStringIncludingArrayProps(n,"")},n.prototype.setBaseQueryArray=function(n){var l=this,t=[];return Object.keys(n).forEach(function(e){Array.isArray(n[e])||null==n[e]||t.push(l.encode(e,n[e]))}),t},n.prototype.buildQueryStringIncludingArrayProps=function(n,l){var t=this,e=this.setBaseQueryArray(n),a=l;return Object.keys(n).forEach(function(l){Array.isArray(n[l])&&n[l].forEach(function(n){null!=n&&e.push(t.encode(l+a,n))})}),e.join("&")||""},n.prototype.encode=function(n,l){return encodeURIComponent(n)+"="+encodeURIComponent(l.toString())},n}(),tn=(t("GQSG"),function(){function n(n,l){this.http=n,this.apiService=l}return n.prototype.getCities=function(n){return this.http.get(F.openaqApiUrl+"cities?"+this.apiService.buildOpenAQQueryString(n)).map(function(n){return n.json().results})},n.ctorParameters=function(){return[{type:nn.d},{type:ln}]},n}()),en=function(){function n(n){this.citiesApi=n}return n.prototype.getAllCities=function(){var n={limit:9999};return this.citiesApi.getCities(n)},n.ctorParameters=function(){return[{type:tn}]},n}(),an=function(){function n(n,l){this.citiesHandlerService=n,this.compareService=l,this.allCities=[],this.searchedCities=[]}return n.prototype.ngOnInit=function(){this.loadCities()},n.prototype.loadCities=function(){var n=this;this.citiesHandlerService.getAllCities().subscribe(function(l){return n.allCities=l.sort(n.compareService.sortCities)})},n.prototype.addSearchedCity=function(n){this.searchedCities.unshift(n)},n.ctorParameters=function(){return[{type:en},{type:$}]},n}(),un=t("kfoA"),rn=t("cC+T"),on=t("8oXs"),sn=t("bm2B"),cn=t("6OSA"),pn=t("Lpd/"),dn=(t("RXa1"),function(){function n(){}return n.prototype.validateSearchInput=function(n){return null},n.prototype.filterCities=function(n,l){return n?this.filterCitiesWhenNameExists(n,l):l.slice(0,5)},n.prototype.filterCitiesWhenNameExists=function(n,l){return l.filter(function(l){return 0===l.city.toLowerCase().indexOf(n.toLowerCase())}).slice(0,5)},n}()),_n=function(){function n(n,l){this.http=n,this.apiService=l}return n.prototype.getLocations=function(n){return this.http.get(F.openaqApiUrl+"locations?"+this.apiService.buildOpenAQQueryString(n)).map(function(n){return n.json().results})},n.ctorParameters=function(){return[{type:nn.d},{type:ln}]},n}(),fn=function(){function n(n){this.locationsApi=n}return n.prototype.getLocationsByCityAndCountry=function(n,l){var t={city:n,country:l};return this.locationsApi.getLocations(t)},n.ctorParameters=function(){return[{type:_n}]},n}(),hn=function(){function n(n,l,t){this.fb=n,this.searchService=l,this.locationsHandlerService=t,this.allCities=[],this.addSearchedCity=new k.q,this.searching=!1}return n.prototype.ngOnInit=function(){this.newForm(),this.filterCitiesOnInputChange()},n.prototype.attemptSearch=function(){this.searchForm.valid&&this.search()},n.prototype.newForm=function(){this.searchForm=this.fb.group({searchInput:["",this.searchService.validateSearchInput]})},n.prototype.filterCitiesOnInputChange=function(){var n=this;this.filteredCities=this.searchForm.get("searchInput").valueChanges.startWith(null).map(function(l){return n.searchService.filterCities(l,n.allCities)})},n.prototype.search=function(){var n=this;this.searching=!0;var l=this.searchForm.value.searchInput,t=this.allCities.find(function(n){return n.city===l}),e=t.country;this.locationsHandlerService.getLocationsByCityAndCountry(l,e).subscribe(function(l){return n.outputSearchedCity(t,l)})},n.prototype.outputSearchedCity=function(n,l){this.searching=!1;var t=n;t.locationsResponse=l,this.addSearchedCity.emit(t)},n.ctorParameters=function(){return[{type:sn.d},{type:dn},{type:fn}]},n}(),yn=t("1ini"),mn=t("OFGE"),gn=t("l6RC"),vn=t("fc+i"),Cn=t("SlD5"),bn=t("Elun"),An=[],Sn=k._10({encapsulation:2,styles:An,data:{}}),In=(k._8("aq-search",hn,d,{allCities:"allCities"},{addSearchedCity:"addSearchedCity"},[]),{pm25:"PM 2.5",pm10:"PM 10",no2:"NO\u2082",so2:"SO\u2082",o3:"O\u2083",co:"CO",bc:"BC"}),Mn=function(){function n(){}return n.prototype.transform=function(n){return n?In.hasOwnProperty(n)?In[n]:n:""},n}(),Pn={good:[0,50],moderate:[51,100],unhealthySensitive:[101,150],unhealthy:[151,200],veryUnhealthy:[201,300],hazardous1:[301,400],hazardous2:[401,500]},On={good:"Good",moderate:"Moderate",unhealthySensitive:"Unhealthy for Sensitive Groups",unhealthy:"Unhealthy",veryUnhealthy:"Very Unhealthy",hazardous1:"Hazardous",hazardous2:"Hazardous"},wn={good:"green",moderate:"yellow",unhealthySensitive:"orange",unhealthy:"red",veryUnhealthy:"purple",hazardous1:"maroon",hazardous2:"maroon"},Ln=function(){function n(){}return n.prototype.getAQIClassName=function(n){var l,t=Math.round(n);return Object.keys(Pn).some(function(n){if(Pn[n][0]<=t&&t<=Pn[n][1])return l=wn[n],!0}),l||"unknown"},n.prototype.getLevelDescription=function(n){return On.hasOwnProperty(n)?On[n]:"Unknown"},n.ctorParameters=function(){return[]},n}(),Bn=function(){function n(n){this.namingService=n}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[{type:Ln}]},n}(),Qn=[],kn=k._10({encapsulation:2,styles:Qn,data:{animation:[{type:7,name:"fade",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"500ms"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{opacity:1},offset:null},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"500ms"}],options:null}],options:{}}]}}),Fn=(k._8("aq-parameter-average-indicator",Bn,f,{average:"average"},{},[]),function(){function n(){}return n.prototype.transform=function(n){return n?Rn.hasOwnProperty(n)?Rn[n]:n:""},n}()),Rn={AF:"Afghanistan",AX:"Aland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua And Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia And Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, Democratic Republic",CK:"Cook Islands",CR:"Costa Rica",CI:"Cote D'Ivoire",HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island & Mcdonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic Of",IQ:"Iraq",IE:"Ireland",IM:"Isle Of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KR:"Korea",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libyan Arab Jamahiriya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States Of",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",AN:"Netherlands Antilles",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena",KN:"Saint Kitts And Nevis",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre And Miquelon",VC:"Saint Vincent And Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome And Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia And Sandwich Isl.",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard And Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad And Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks And Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis And Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},Gn=t("OBOK"),Un=t("0bRs"),xn=function(){function n(n){this.namingService=n,this.overall=!1}return n.prototype.ngOnInit=function(){},Object.defineProperty(n.prototype,"indicatorClass",{get:function(){var n=this.namingService.getAQIClassName(this.AQI);return n="bg-"+n,this.overall?n+" overall":n},enumerable:!0,configurable:!0}),n.ctorParameters=function(){return[{type:Ln}]},n}(),Tn=[],Nn=k._10({encapsulation:2,styles:Tn,data:{animation:[{type:7,name:"fade",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"500ms"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{opacity:1},offset:null},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"500ms"}],options:null}],options:{}}]}}),qn=(k._8("aq-aqi-indicator",xn,g,{AQI:"AQI",overall:"overall"},{},[]),function(){function n(n,l){this.http=n,this.apiService=l}return n.prototype.getLatest=function(n){return this.http.get(F.openaqApiUrl+"latest?"+this.apiService.buildOpenAQQueryString(n)).map(function(n){return n.json().results})},n.ctorParameters=function(){return[{type:nn.d},{type:ln}]},n}()),zn=function(){function n(n){this.latestApi=n}return n.prototype.getLatestByCityAndCountry=function(n,l){var t={city:n,country:l};return this.latestApi.getLatest(t)},n.ctorParameters=function(){return[{type:qn}]},n}(),En=function(){function n(n,l){this.http=n,this.apiService=l}return n.prototype.getImage=function(n){return this.http.get(F.mapsApiUrl+"staticmap?"+this.apiService.buildMapsQueryString(n),{responseType:nn.g.Blob}).map(function(n){return n.blob()})},n.ctorParameters=function(){return[{type:nn.d},{type:ln}]},n}(),Dn={center:"",zoom:2,size:"550x550",key:"",scale:2,markers:"color:black|size:small",style:["feature:poi|visibility:off","feature:road|Cvisibility:off","feature:transit|visibility:off","feature:water|color:0xcccccc","feature:landscape|color:0xffffff","feature:administrative|element:labels|visibility:off","feature:administrative.country|element:geometry.stroke|color:0x555555","feature:administrative|element:geometry.fill|visibility:off"]},Kn=function(){function n(n){this.staticMapsApi=n}return n.prototype.getImageByLatLong=function(n,l){var t=Object.assign({},Dn);return t.center=n.toString()+","+(l+this.latOffset()).toString(),t.markers+="|"+n.toString()+","+l.toString(),t.key=F.staticMapsKey,this.staticMapsApi.getImage(t)},n.prototype.latOffset=function(){return F.randomizedMapsLongitude?(Math.random()>=.5?-1:1)*Math.random()*-30-30:0},n.ctorParameters=function(){return[{type:En}]},n}(),Vn={parameter:"pm25",unit:"\xb5g/m\xb3",hours:24,levels:{good:[0,12],moderate:[12.1,35.4],unhealthySensitive:[35.5,55.4],unhealthy:[55.5,150.4],veryUnhealthy:[150.5,250.4],hazardous1:[250.5,350.4],hazardous2:[350.5,500.4]}},jn={parameter:"pm10",unit:"\xb5g/m\xb3",hours:24,levels:{good:[0,54],moderate:[55,154],unhealthySensitive:[155,254],unhealthy:[255,354],veryUnhealthy:[355,424],hazardous1:[425,504],hazardous2:[505,604]}},Hn={parameter:"o3",unit:"ppm",hours:8,levels:{good:[0,.054],moderate:[.055,.07],unhealthySensitive:[.071,.085],unhealthy:[.086,.105],veryUnhealthy:[.106,.2],hazardous1:[null,null],hazardous2:[null,null]}},Jn={parameter:"co",unit:"ppm",hours:8,levels:{good:[0,4.4],moderate:[4.5,9.4],unhealthySensitive:[9.5,12.4],unhealthy:[12.5,15.4],veryUnhealthy:[15.5,30.4],hazardous1:[30.5,40.4],hazardous2:[40.5,50.4]}},Wn={parameter:"so2",unit:"ppb",hours:1,levels:{good:[0,35],moderate:[36,75],unhealthySensitive:[76,185],unhealthy:[186,304],veryUnhealthy:[305,604],hazardous1:[605,804],hazardous2:[805,1004]}},Yn={parameter:"no2",unit:"ppb",hours:1,levels:{good:[0,53],moderate:[54,100],unhealthySensitive:[101,360],unhealthy:[361,649],veryUnhealthy:[650,1249],hazardous1:[1250,1649],hazardous2:[1650,2049]}},Zn=function(){function n(){}return n.prototype.calculateAQIByParameter=function(n,l){var t;switch(l){case"pm25":t=this.calculatePM25AQI(n);break;case"pm10":t=this.calculatePM10AQI(n);break;case"o3":t=this.calculateO3AQI(n);break;case"co":t=this.calculateCOAQI(n);break;case"so2":t=this.calculateSO2AQI(n);break;case"no2":t=this.calculateNO2AQI(n);break;default:throw new Error("invalid parameter given for AQI calculation")}return t},n.prototype.calculatePM25AQI=function(n){return this.calculateParameterAQI(n,Vn,1)},n.prototype.calculatePM10AQI=function(n){return this.calculateParameterAQI(n,jn,0)},n.prototype.calculateO3AQI=function(n){return this.calculateParameterAQI(n,Hn,3)},n.prototype.calculateCOAQI=function(n){return this.calculateParameterAQI(n,Jn,1)},n.prototype.calculateSO2AQI=function(n){return this.calculateParameterAQI(n,Wn,0)},n.prototype.calculateNO2AQI=function(n){return this.calculateParameterAQI(n,Yn,0)},n.prototype.calculateParameterAQI=function(n,l,t){var e,a=this,u=this.truncateAtDecimal(n,t);return Object.keys(l.levels).some(function(n){var t=l.levels[n][0],r=l.levels[n][1],i=Pn[n][0],o=Pn[n][1];if(t<=u&&u<=r)return e=a.linearCalculation(u,t,r,i,o),!0})?Math.round(e):this.handleUnmatchedLevel(u,l,t)},n.prototype.truncateAtDecimal=function(n,l){return+(Math.floor(n*Math.pow(10,l))/Math.pow(10,l)).toFixed(l)},n.prototype.linearCalculation=function(n,l,t,e,a){return(n-l)*(a-e)/(t-l)+e},n.prototype.handleUnmatchedLevel=function(n,l,t){if(n>=l.levels.hazardous2[1])return Pn.hazardous2[1];if(n<=0)return Pn.good[0];throw new Error("Failed to calculate AQI for "+l.parameter+" parameter,with value of "+n+" "+l.unit)},n.ctorParameters=function(){return[]},n}(),Xn=function(){function n(n,l,t){this.calculationService=n,this.namingService=l,this.staticMapsHandlerService=t}return n.prototype.getStaticMapsImageFileURL=function(n){var l=this,t=this.getLatLong(n);return this.staticMapsHandlerService.getImageByLatLong(t.latitude,t.longitude).toPromise().then(function(n){return l.createImageFromBlob(n)})},n.prototype.getParameterAverages=function(n,l){var t=this,e=[];return this.verifyCityAndLatest(n,l)&&this.getAvailableParameters(n).forEach(function(n){return e.push(t.getParameterAverage(n,l))}),e},n.prototype.getOverallAQI=function(n){return!n||n.length<=0?null:n.map(function(n){return n.AQI}).reduce(function(n,l){return Math.max(n,l)})},n.prototype.getAQIClass=function(n){return null==n?null:this.namingService.getAQIClassName(n)},n.prototype.createImageFromBlob=function(n){var l=new FileReader;return n?(l.readAsDataURL(n),new Promise(function(n){l.onloadend=function(){return n(l.result)}})):Promise.resolve(null)},n.prototype.getLatLong=function(n){var l=this,t={latitude:0,longitude:0};return n.locationsResponse.some(function(n){if(console.log(n),l.hasLatLong(n.coordinates))return t.latitude=n.coordinates.latitude,t.longitude=n.coordinates.longitude,!0}),t},n.prototype.hasLatLong=function(n){return!!(n&&n.latitude&&n.longitude)},n.prototype.verifyCityAndLatest=function(n,l){return!!(n&&n.city&&n.locationsResponse&&n.locationsResponse.length>0&&l&&l.length>0)},n.prototype.getAvailableParameters=function(n){var l=[];return n.locationsResponse.forEach(function(n){n.parameters.forEach(function(n){-1===l.findIndex(function(l){return l===n})&&l.push(n)})}),l},n.prototype.getParameterAverage=function(n,l){var t=this.getLatestMeasurementsByParameter(n,l),e=this.getConcentrationAvgByParameter(n,t),a=this.getUnit(t),u=this.getAQIByParameterAndConcentration(n,e);return{parameter:n,concentration:e,unit:a,AQI:u,class:this.getAQIClass(u),dataPoints:t.length}},n.prototype.getLatestMeasurementsByParameter=function(n,l){var t=[];return l.forEach(function(l){var e=l.measurements.find(function(l){return l.parameter===n});e&&t.push(e)}),t},n.prototype.getConcentrationAvgByParameter=function(n,l){var t=l.map(function(n){return n.value});return t.reduce(function(n,l){return n+l},0)/t.length},n.prototype.getUnit=function(n){var l;if(n.some(function(n){if(l&&l!=n.unit)return!0;l=n.unit})){var t=n.map(function(n){return n.unit}).toString();throw new Error("Tried to calculate averages of different units for parameter "+n[0].parameter+", with units "+t)}return l},n.prototype.getAQIByParameterAndConcentration=function(n,l){return this.calculationService.calculateAQIByParameter(l,n)},n.ctorParameters=function(){return[{type:Zn},{type:Ln},{type:Kn}]},n}(),$n=(t("ivSB"),function(){function n(n,l,t){this.latestHandlerService=n,this.staticMapsHandlerService=l,this.cityService=t,this.parameterAverages=[],this.staticMapsURL="",this.expanded=!1}return Object.defineProperty(n.prototype,"contentClass",{get:function(){return this.expanded?"expanded "+this.getRowsClass():"closed"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"buttonIcon",{get:function(){return this.expanded?"expand_less":"expand_more"},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this;console.log("searchedCity:",this.searchedCity),this.getLatestCityMeasurements().subscribe(function(l){return n.setAveragesAndClasses(l)}),this.cityService.getStaticMapsImageFileURL(this.searchedCity).then(function(l){return n.staticMapsURL=l})},n.prototype.toggleContent=function(){this.expanded=!this.expanded},n.prototype.getRowsClass=function(){return"rows-"+Math.ceil(this.parameterAverages.length/2)},n.prototype.getLatestCityMeasurements=function(){return this.latestHandlerService.getLatestByCityAndCountry(this.searchedCity.city,this.searchedCity.country)},n.prototype.setAveragesAndClasses=function(n){this.latestResponse=n,this.parameterAverages=this.cityService.getParameterAverages(this.searchedCity,this.latestResponse),this.overallAQI=this.cityService.getOverallAQI(this.parameterAverages),this.overallAQIClass=this.cityService.getAQIClass(this.overallAQI)},n.ctorParameters=function(){return[{type:zn},{type:Kn},{type:Xn}]},n}()),nl=[],ll=k._10({encapsulation:2,styles:nl,data:{animation:[{type:7,name:"fade",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"500ms"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{opacity:1},offset:null},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"500ms"}],options:null}],options:{}}]}}),tl=(k._8("aq-city-card",$n,A,{searchedCity:"searchedCity"},{},[]),function(){function n(){this.animationStarted=!1}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[]},n}()),el=[],al=k._10({encapsulation:2,styles:el,data:{animation:[{type:7,name:"fadeSlide",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{transform:"translateY(-100%)",opacity:0},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(0)",opacity:1},offset:null},timings:"300ms"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{transform:"translateY(0)",opacity:1},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(-100%)",opacity:0},offset:null},timings:"300ms"}],options:null}],options:{}}]}}),ul=(k._8("aq-city-cards-list",tl,M,{searchedCities:"searchedCities"},{},[]),[]),rl=k._10({encapsulation:2,styles:ul,data:{}}),il=(k._8("aq-compare",an,O,{},{},[]),function(){function n(){}return n.ctorParameters=function(){return[]},n}()),ol=[],sl=k._10({encapsulation:2,styles:ol,data:{}}),cl=(k._8("aq-home",il,L,{},{},[]),[]),pl=k._10({encapsulation:2,styles:cl,data:{}}),dl=k._8("aq-app",G,Q,{},{},[]),_l=t("f9zQ"),fl=t("fL27"),hl=t("EyWH"),yl=t("4jwp"),ml=function(){function n(){}return n}(),gl=function(){function n(){}return n}(),vl=function(){function n(){}return n}(),Cl=function(){function n(){}return n}(),bl=function(){function n(){}return n}(),Al=t("CZgk"),Sl=function(){function n(){}return n}(),Il=function(){function n(){}return n}(),Ml=function(){function n(){}return n}(),Pl=function(){function n(){}return n}(),Ol=function(){function n(){}return n}(),wl=function(){function n(){}return n}(),Ll=function(){function n(){}return n}(),Bl=k._9(R,[G],function(n){return k._23([k._24(512,k.k,k._5,[[8,[dl]],[3,k.k],k.B]),k._24(5120,k.z,k._22,[[3,k.z]]),k._24(4608,D.i,D.h,[k.z]),k._24(4608,k.i,k.i,[]),k._24(5120,k.a,k._14,[]),k._24(5120,k.x,k._19,[]),k._24(5120,k.y,k._20,[]),k._24(4608,vn.c,vn.t,[D.c]),k._24(6144,k.N,null,[vn.c]),k._24(4608,vn.f,vn.g,[]),k._24(5120,vn.d,function(n,l,t,e){return[new vn.l(n),new vn.p(l),new vn.o(t,e)]},[D.c,D.c,D.c,vn.f]),k._24(4608,vn.e,vn.e,[vn.d,k.D]),k._24(135680,vn.n,vn.n,[D.c]),k._24(4608,vn.m,vn.m,[vn.e,vn.n]),k._24(5120,_l.a,fl.d,[]),k._24(5120,_l.c,fl.e,[]),k._24(4608,_l.b,fl.c,[_l.a,_l.c]),k._24(5120,k.L,fl.f,[vn.m,_l.b,k.D]),k._24(6144,vn.q,null,[vn.n]),k._24(4608,k.S,k.S,[k.D]),k._24(4608,vn.h,vn.h,[D.c]),k._24(4608,vn.j,vn.j,[D.c]),k._24(4608,nn.c,nn.c,[]),k._24(4608,nn.h,nn.b,[]),k._24(5120,nn.j,nn.k,[]),k._24(4608,nn.i,nn.i,[nn.c,nn.h,nn.j]),k._24(4608,nn.f,nn.a,[]),k._24(5120,nn.d,nn.l,[nn.i,nn.f]),k._24(4608,sn.d,sn.d,[]),k._24(4608,sn.o,sn.o,[]),k._24(4608,ln,ln,[]),k._24(4608,tn,tn,[nn.d,ln]),k._24(4608,qn,qn,[nn.d,ln]),k._24(4608,_n,_n,[nn.d,ln]),k._24(4608,En,En,[nn.d,ln]),k._24(4608,Zn,Zn,[]),k._24(4608,en,en,[tn]),k._24(4608,zn,zn,[qn]),k._24(4608,fn,fn,[_n]),k._24(4608,Kn,Kn,[En]),k._24(4608,Ln,Ln,[]),k._24(4608,hl.b,fl.b,[k.L,vn.b]),k._24(6144,gn.b,null,[vn.b]),k._24(4608,gn.c,gn.c,[[2,gn.b]]),k._24(4608,N.a,N.a,[]),k._24(4608,q.h,q.h,[N.a]),k._24(4608,q.g,q.g,[q.h,N.a,k.D]),k._24(136192,q.d,q.b,[[3,q.d],N.a]),k._24(5120,q.k,q.j,[[3,q.k],[2,q.i],N.a]),k._24(5120,q.f,q.e,[[3,q.f],k.D,N.a]),k._24(5120,yl.c,yl.a,[[3,yl.c],k.D,N.a]),k._24(5120,yl.f,yl.e,[[3,yl.f],N.a,k.D,yl.c]),k._24(4608,mn.e,mn.e,[yl.c,yl.f]),k._24(5120,mn.c,mn.f,[[3,mn.c]]),k._24(4608,mn.i,mn.i,[yl.f]),k._24(4608,mn.a,mn.a,[mn.e,mn.c,k.k,mn.i,k.e,k.v,k.D]),k._24(5120,mn.g,mn.h,[mn.a]),k._24(5120,yn.a,yn.b,[mn.a]),k._24(4608,x.c,x.c,[]),k._24(5120,E.d,E.a,[[3,E.d],[2,nn.d],vn.c]),k._24(4608,dn,dn,[]),k._24(4608,Xn,Xn,[Zn,Ln,Kn]),k._24(4608,$,$,[]),k._24(512,D.b,D.b,[]),k._24(1024,k.p,vn.r,[]),k._24(1024,k.b,function(n,l){return[vn.s(n,l)]},[[2,vn.i],[2,k.C]]),k._24(512,k.c,k.c,[[2,k.b]]),k._24(131584,k._12,k._12,[k.D,k._6,k.v,k.p,k.k,k.c]),k._24(2048,k.e,null,[k._12]),k._24(512,k.d,k.d,[k.e]),k._24(512,vn.a,vn.a,[[3,vn.a]]),k._24(512,nn.e,nn.e,[]),k._24(512,sn.m,sn.m,[]),k._24(512,sn.l,sn.l,[]),k._24(512,ml,ml,[]),k._24(512,gl,gl,[]),k._24(512,vl,vl,[]),k._24(512,Cl,Cl,[]),k._24(512,bl,bl,[]),k._24(512,fl.a,fl.a,[]),k._24(512,x.a,x.a,[]),k._24(512,gn.a,gn.a,[]),k._24(256,x.d,!0,[]),k._24(512,x.j,x.j,[[2,x.d]]),k._24(512,W.d,W.d,[]),k._24(512,N.b,N.b,[]),k._24(512,x.t,x.t,[]),k._24(512,q.a,q.a,[]),k._24(512,T.c,T.c,[]),k._24(512,x.r,x.r,[]),k._24(512,x.o,x.o,[]),k._24(512,Al.b,Al.b,[]),k._24(512,yl.b,yl.b,[]),k._24(512,mn.d,mn.d,[]),k._24(512,yn.d,yn.d,[]),k._24(512,pn.c,pn.c,[]),k._24(512,Cn.b,Cn.b,[]),k._24(512,E.c,E.c,[]),k._24(512,rn.b,rn.b,[]),k._24(512,Un.b,Un.b,[]),k._24(512,Sl,Sl,[]),k._24(512,Il,Il,[]),k._24(512,Ml,Ml,[]),k._24(512,Pl,Pl,[]),k._24(512,Ol,Ol,[]),k._24(512,wl,wl,[]),k._24(512,Ll,Ll,[]),k._24(512,R,R,[])])});F.production&&Object(k.Z)(),Object(vn.k)().bootstrapModuleFactory(Bl).catch(function(n){return console.log(n)})},gFIY:function(n,l){function t(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id="gFIY"}},[0]);