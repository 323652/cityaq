webpackJsonp([1],{0:function(n,t,e){n.exports=e("cDNt")},cDNt:function(n,t,e){"use strict";function l(n){return S._35(0,[(n()(),S._13(0,0,null,null,9,"mat-card",[["class","intro mat-card"]],null,null,null,M.d,M.a)),S._11(1,16384,null,0,P.p,[],null,null),S._11(2,49152,null,0,L.a,[],null,null),(n()(),S._33(-1,0,["\n    "])),(n()(),S._13(4,0,null,0,1,"h1",[],null,null,null,null,null)),(n()(),S._33(-1,null,["Welcome to CityAQ"])),(n()(),S._33(-1,0,["\n    "])),(n()(),S._13(7,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),S._33(-1,null,["Compare air quality for cities by searching below"])),(n()(),S._33(-1,0,["\n"]))],null,null)}function a(n){return S._35(0,[(n()(),S._13(0,0,null,null,1,"aq-intro",[],null,null,null,l,w)),S._11(1,49152,null,0,B,[],null,null)],null,null)}function i(n){return S._35(0,[(n()(),S._13(0,0,null,null,2,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[4,"width","px"],[4,"height","px"]],null,null,U.b,U.a)),S._11(1,16384,null,0,P.p,[],null,null),S._11(2,573440,null,0,T.c,[S.K,S.o,z.a,[2,E.c]],{diameter:[0,"diameter"],strokeWidth:[1,"strokeWidth"]},null)],function(n,t){n(t,2,0,50,5)},function(n,t){n(t,0,0,S._26(t,2)._elementSize,S._26(t,2)._elementSize)})}function r(n){return S._35(0,[(n()(),S._13(0,0,null,null,7,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(n,t,e){var l=!0;if("click"===t){l=!1!==S._26(n,2)._selectViaInteraction()&&l}if("keydown"===t){l=!1!==S._26(n,2)._handleKeydown(e)&&l}return l},q.b,q.a)),S._11(1,16384,null,0,P.p,[],null,null),S._11(2,49152,[[7,4]],0,P.n,[S.o,S.h,[2,P.m]],{value:[0,"value"]},null),(n()(),S._33(-1,0,["\n                "])),(n()(),S._13(4,0,null,0,2,"span",[],null,null,null,null,null)),(n()(),S._33(5,null,["",""])),S._29(6,1),(n()(),S._33(-1,0,["\n            "]))],function(n,t){n(t,2,0,t.context.$implicit.city)},function(n,t){n(t,0,0,S._26(t,2)._getTabIndex(),S._26(t,2).selected,S._26(t,2).multiple,S._26(t,2).active,S._26(t,2).id,S._26(t,2).selected.toString(),S._26(t,2).disabled.toString(),S._26(t,2).disabled),n(t,5,0,S._34(t,5,0,n(t,6,0,S._26(t.parent,0),t.context.$implicit.city)))})}function u(n){return S._35(0,[S._27(0,E.m,[]),(n()(),S._13(1,0,null,null,41,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,t,e){var l=!0;if("submit"===t){l=!1!==S._26(n,3).onSubmit(e)&&l}if("reset"===t){l=!1!==S._26(n,3).onReset()&&l}return l},null,null)),S._11(2,16384,null,0,D.n,[],null,null),S._11(3,540672,null,0,D.f,[[8,null],[8,null]],{form:[0,"form"]},null),S._30(2048,null,D.b,null,[D.f]),S._11(5,16384,null,0,D.j,[D.b],null,null),(n()(),S._33(-1,null,["\n    "])),(n()(),S._13(7,0,null,null,34,"mat-form-field",[["class","cities-input mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-focused",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,K.b,K.a)),S._11(8,16384,null,0,P.p,[],null,null),S._11(9,7389184,null,6,H.a,[S.o,S.K,S.h,[2,P.h]],null,null),S._31(335544320,1,{_control:0}),S._31(335544320,2,{_placeholderChild:0}),S._31(603979776,3,{_errorChildren:1}),S._31(603979776,4,{_hintChildren:1}),S._31(603979776,5,{_prefixChildren:1}),S._31(603979776,6,{_suffixChildren:1}),(n()(),S._33(-1,1,["\n        "])),(n()(),S._13(17,16777216,null,1,9,"input",[["aria-autocomplete","list"],["aria-label","City"],["autocomplete","off"],["class","mat-input-element mat-form-field-autofill-control"],["formControlName","searchInput"],["matInput",""],["placeholder","City"],["role","combobox"]],[[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0]],[[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focusin"],[null,"keydown"],[null,"focus"]],function(n,t,e){var l=!0,a=n.component;if("input"===t){l=!1!==S._26(n,18)._handleInput(e.target.value)&&l}if("blur"===t){l=!1!==S._26(n,18).onTouched()&&l}if("compositionstart"===t){l=!1!==S._26(n,18)._compositionStart()&&l}if("compositionend"===t){l=!1!==S._26(n,18)._compositionEnd(e.target.value)&&l}if("focusin"===t){l=!1!==S._26(n,19)._handleFocus()&&l}if("blur"===t){l=!1!==S._26(n,19)._onTouched()&&l}if("input"===t){l=!1!==S._26(n,19)._handleInput(e)&&l}if("keydown"===t){l=!1!==S._26(n,19)._handleKeydown(e)&&l}if("blur"===t){l=!1!==S._26(n,25)._focusChanged(!1)&&l}if("focus"===t){l=!1!==S._26(n,25)._focusChanged(!0)&&l}if("input"===t){l=!1!==S._26(n,25)._onInput()&&l}if("keyup.enter"===t){l=!1!==a.attemptSearch()&&l}return l},null,null)),S._11(18,16384,null,0,D.c,[S.K,S.o,[2,D.a]],null,null),S._11(19,147456,null,0,J.e,[S.o,Y.a,S.V,S.D,S.h,J.a,[2,Z.c],[2,H.a],[2,X.b]],{autocomplete:[0,"autocomplete"]},null),S._30(1024,null,D.g,function(n,t){return[n,t]},[D.c,J.e]),S._11(21,671744,null,0,D.e,[[3,D.b],[8,null],[8,null],[2,D.g]],{name:[0,"name"]},null),S._30(2048,null,D.h,null,[D.e]),S._11(23,16384,null,0,D.i,[D.h],null,null),S._11(24,16384,null,0,P.p,[],null,null),S._11(25,933888,null,0,$.a,[S.o,S.K,z.a,[2,D.h],[2,D.k],[2,D.f],P.c],{placeholder:[0,"placeholder"]},null),S._30(2048,[[1,4]],H.b,null,[$.a]),(n()(),S._33(-1,1,["\n        "])),(n()(),S._7(16777216,null,1,1,null,i)),S._11(29,16384,null,0,E.f,[S.V,S.R],{ngIf:[0,"ngIf"]},null),(n()(),S._33(-1,1,["\n        "])),(n()(),S._13(31,0,null,1,9,"mat-autocomplete",[["class","mat-autocomplete"]],null,null,null,nn.b,nn.a)),S._11(32,16384,null,0,P.p,[],null,null),S._11(33,1097728,[["auto",4]],2,J.c,[S.h,S.o],null,null),S._31(603979776,7,{options:1}),S._31(603979776,8,{optionGroups:1}),(n()(),S._33(-1,0,["\n            "])),(n()(),S._7(16777216,null,0,2,null,r)),S._11(38,802816,null,0,E.e,[S.V,S.R,S.x],{ngForOf:[0,"ngForOf"]},null),S._27(131072,E.a,[S.h]),(n()(),S._33(-1,0,["\n        "])),(n()(),S._33(-1,1,["\n    "])),(n()(),S._33(-1,null,["\n"]))],function(n,t){var e=t.component;n(t,3,0,e.searchForm),n(t,19,0,S._26(t,33));n(t,21,0,"searchInput");n(t,25,0,"City"),n(t,29,0,e.searching),n(t,38,0,S._34(t,38,0,S._26(t,39).transform(e.filteredCities)))},function(n,t){n(t,1,0,S._26(t,5).ngClassUntouched,S._26(t,5).ngClassTouched,S._26(t,5).ngClassPristine,S._26(t,5).ngClassDirty,S._26(t,5).ngClassValid,S._26(t,5).ngClassInvalid,S._26(t,5).ngClassPending),n(t,7,1,[S._26(t,9)._control.errorState,S._26(t,9)._control.errorState,S._26(t,9)._canPlaceholderFloat,S._26(t,9)._control.shouldPlaceholderFloat||S._26(t,9)._shouldAlwaysFloat,S._26(t,9)._control.focused,"primary"==S._26(t,9).color,"accent"==S._26(t,9).color,"warn"==S._26(t,9).color,S._26(t,9)._shouldForward("untouched"),S._26(t,9)._shouldForward("touched"),S._26(t,9)._shouldForward("pristine"),S._26(t,9)._shouldForward("dirty"),S._26(t,9)._shouldForward("valid"),S._26(t,9)._shouldForward("invalid"),S._26(t,9)._shouldForward("pending")]),n(t,17,1,[null==S._26(t,19).activeOption?null:S._26(t,19).activeOption.id,S._26(t,19).panelOpen.toString(),null==S._26(t,19).autocomplete?null:S._26(t,19).autocomplete.id,S._26(t,23).ngClassUntouched,S._26(t,23).ngClassTouched,S._26(t,23).ngClassPristine,S._26(t,23).ngClassDirty,S._26(t,23).ngClassValid,S._26(t,23).ngClassInvalid,S._26(t,23).ngClassPending,S._26(t,25).id,S._26(t,25).placeholder,S._26(t,25).disabled,S._26(t,25).required,S._26(t,25).readonly,S._26(t,25)._ariaDescribedby||null,S._26(t,25).errorState])})}function o(n){return S._35(0,[(n()(),S._13(0,0,null,null,1,"aq-search",[],null,null,null,u,en)),S._11(1,114688,null,0,W,[D.d,x,j],null,null)],function(n,t){n(t,1,0)},null)}function c(n){return S._35(0,[(n()(),S._13(0,0,null,null,7,"div",[["class","aqi-indicator"]],null,null,null,null,null)),(n()(),S._33(-1,null,["\n        "])),(n()(),S._13(2,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),S._33(3,null,["",""])),(n()(),S._33(-1,null,["\n        "])),(n()(),S._13(5,0,null,null,1,"span",[["class","aqi-name"]],null,null,null,null,null)),(n()(),S._33(6,null,["",""])),(n()(),S._33(-1,null,["\n    "]))],null,function(n,t){n(t,3,0,t.context.$implicit.value),n(t,6,0,t.context.$implicit.parameter)})}function s(n){return S._35(0,[S._27(0,E.m,[]),S._27(0,ln,[]),(n()(),S._13(2,0,null,null,29,"mat-card",[["class","city-card mat-card"]],null,null,null,M.d,M.a)),S._11(3,278528,null,0,E.i,[S.y,S.o,S.J],{ngStyle:[0,"ngStyle"]},null),S._28(4,{"background-image":0}),S._11(5,16384,null,0,P.p,[],null,null),S._11(6,49152,null,0,L.a,[],null,null),(n()(),S._33(-1,0,["\n    "])),(n()(),S._13(8,0,null,0,1,"div",[["class","color-overlay"]],null,null,null,null,null)),S._11(9,278528,null,0,E.d,[S.x,S.y,S.o,S.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),S._33(-1,0,["\n    "])),(n()(),S._13(11,0,null,0,16,"mat-card-title-group",[["class","mat-card-title-group"]],null,null,null,M.c,M.b)),S._11(12,16384,null,0,P.p,[],null,null),S._11(13,49152,null,0,L.f,[],null,null),(n()(),S._33(-1,2,["\n        "])),(n()(),S._13(15,0,null,0,4,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),S._11(16,16384,null,0,P.p,[],null,null),S._11(17,16384,null,0,L.e,[],null,null),(n()(),S._33(18,null,["",""])),S._29(19,1),(n()(),S._33(-1,2,["\n        "])),(n()(),S._13(21,0,null,0,5,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),S._11(22,16384,null,0,P.p,[],null,null),S._11(23,16384,null,0,L.d,[],null,null),(n()(),S._33(24,null,["",""])),S._29(25,1),S._29(26,1),(n()(),S._33(-1,2,["\n    "])),(n()(),S._33(-1,0,["\n    "])),(n()(),S._7(16777216,null,0,1,null,c)),S._11(30,802816,null,0,E.e,[S.V,S.R,S.x],{ngForOf:[0,"ngForOf"]},null),(n()(),S._33(-1,0,["\n"]))],function(n,t){var e=t.component;n(t,3,0,n(t,4,0,"url("+e.staticMapsURL+")"));n(t,9,0,"color-overlay","bg-0-7-"+e.overallAQIClass()),n(t,30,0,e.aqis)},function(n,t){var e=t.component;n(t,18,0,S._34(t,18,0,n(t,19,0,S._26(t,0),e.searchedCity.city))),n(t,24,0,S._34(t,24,0,n(t,26,0,S._26(t,0),S._34(t,24,0,n(t,25,0,S._26(t,1),e.searchedCity.country)))))})}function d(n){return S._35(0,[(n()(),S._13(0,0,null,null,1,"aq-city-card",[],null,null,null,s,Mn)),S._11(1,114688,null,0,An,[un,sn,bn],null,null)],function(n,t){n(t,1,0)},null)}function p(n){return S._35(0,[(n()(),S._13(0,0,null,null,4,"div",[],[[24,"@fadeSlide",0]],null,null,null,null)),(n()(),S._33(-1,null,["\n    "])),(n()(),S._13(2,0,null,null,1,"aq-city-card",[],null,null,null,s,Mn)),S._11(3,114688,null,0,An,[un,sn,bn],{searchedCity:[0,"searchedCity"]},null),(n()(),S._33(-1,null,["\n"]))],function(n,t){n(t,3,0,t.context.$implicit)},function(n,t){n(t,0,0,void 0)})}function h(n){return S._35(0,[(n()(),S._7(16777216,null,null,1,null,p)),S._11(1,802816,null,0,E.e,[S.V,S.R,S.x],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,1,0,t.component.searchedCities)},null)}function _(n){return S._35(0,[(n()(),S._13(0,0,null,null,1,"aq-city-cards-list",[],null,null,null,h,Bn)),S._11(1,114688,null,0,Pn,[],null,null)],function(n,t){n(t,1,0)},null)}function f(n){return S._35(0,[(n()(),S._13(0,0,null,null,1,"aq-search",[],null,[[null,"addSearchedCity"]],function(n,t,e){var l=!0,a=n.component;if("addSearchedCity"===t){l=!1!==a.addSearchedCity(e)&&l}return l},u,en)),S._11(1,114688,null,0,W,[D.d,x,j],{allCities:[0,"allCities"]},{addSearchedCity:"addSearchedCity"}),(n()(),S._33(-1,null,["\n"])),(n()(),S._13(3,0,null,null,1,"aq-city-cards-list",[],null,null,null,h,Bn)),S._11(4,114688,null,0,Pn,[],{searchedCities:[0,"searchedCities"]},null)],function(n,t){var e=t.component;n(t,1,0,e.allCities),n(t,4,0,e.searchedCities)},null)}function y(n){return S._35(0,[(n()(),S._13(0,0,null,null,1,"aq-compare",[],null,null,null,f,wn)),S._11(1,114688,null,0,R,[N,F],null,null)],function(n,t){n(t,1,0)},null)}function m(n){return S._35(0,[(n()(),S._13(0,0,null,null,7,"div",[["class","wrapper"]],null,null,null,null,null)),(n()(),S._33(-1,null,["\n    "])),(n()(),S._13(2,0,null,null,1,"aq-intro",[],null,null,null,l,w)),S._11(3,49152,null,0,B,[],null,null),(n()(),S._33(-1,null,["\n    "])),(n()(),S._13(5,0,null,null,1,"aq-compare",[],null,null,null,f,wn)),S._11(6,114688,null,0,R,[N,F],null,null),(n()(),S._33(-1,null,["\n"]))],function(n,t){n(t,6,0)},null)}function g(n){return S._35(0,[(n()(),S._13(0,0,null,null,1,"aq-home",[],null,null,null,m,kn)),S._11(1,49152,null,0,Fn,[],null,null)],null,null)}function v(n){return S._35(0,[(n()(),S._13(0,0,null,null,1,"aq-home",[],null,null,null,m,kn)),S._11(1,49152,null,0,Fn,[],null,null)],null,null)}function C(n){return S._35(0,[(n()(),S._13(0,0,null,null,1,"aq-app",[],null,null,null,v,Nn)),S._11(1,49152,null,0,I,[],null,null)],null,null)}Object.defineProperty(t,"__esModule",{value:!0});var S=e("/oeL"),b={production:!0,openaqApiUrl:"https://api.openaq.org/v1/",mapsApiUrl:"https://maps.googleapis.com/maps/api/",staticMapsKey:"AIzaSyBJ4wQTemqdOaXFsAmZotfakpevljfN2iY"},A=function(){function n(){}return n}(),I=function(){function n(){}return n.ctorParameters=function(){return[]},n}(),M=e("z4MQ"),P=e("j5BN"),L=e("Ioj9"),B=function(){function n(){}return n.ctorParameters=function(){return[]},n}(),O=[],w=S._10({encapsulation:2,styles:O,data:{}}),F=(S._8("aq-intro",B,a,{},{},[]),function(){function n(){}return n.prototype.sortCities=function(n,t){var e=n.city.toLowerCase(),l=t.city.toLowerCase();return e<l?-1:e>l?1:0},n}()),Q=e("CPp0"),k=function(){function n(){}return n.prototype.buildBaseQueryString=function(n){return this.setBaseQueryArray(n).join("&")||""},n.prototype.buildOpenAQQueryString=function(n){return this.buildQueryStringIncludingArrayProps(n,"[]")},n.prototype.buildMapsQueryString=function(n){return this.buildQueryStringIncludingArrayProps(n,"")},n.prototype.setBaseQueryArray=function(n){var t=this,e=[];return Object.keys(n).forEach(function(l){Array.isArray(n[l])||null==n[l]||e.push(t.encode(l,n[l]))}),e},n.prototype.buildQueryStringIncludingArrayProps=function(n,t){var e=this,l=this.setBaseQueryArray(n),a=t;return Object.keys(n).forEach(function(t){Array.isArray(n[t])&&n[t].forEach(function(n){null!=n&&l.push(e.encode(t+a,n))})}),l.join("&")||""},n.prototype.encode=function(n,t){return encodeURIComponent(n)+"="+encodeURIComponent(t.toString())},n}(),G=(e("GQSG"),function(){function n(n,t){this.http=n,this.apiService=t}return n.prototype.getCities=function(n){return this.http.get(b.openaqApiUrl+"cities?"+this.apiService.buildOpenAQQueryString(n)).map(function(n){return n.json().results})},n.ctorParameters=function(){return[{type:Q.d},{type:k}]},n}()),N=function(){function n(n){this.citiesApi=n}return n.prototype.getAllCities=function(){var n={limit:9999};return this.citiesApi.getCities(n)},n.ctorParameters=function(){return[{type:G}]},n}(),R=function(){function n(n,t){this.citiesHandlerService=n,this.compareService=t,this.allCities=[],this.searchedCities=[]}return n.prototype.ngOnInit=function(){this.loadCities()},n.prototype.loadCities=function(){var n=this;this.citiesHandlerService.getAllCities().subscribe(function(t){return n.allCities=t.sort(n.compareService.sortCities)})},n.prototype.addSearchedCity=function(n){this.searchedCities.unshift(n)},n.ctorParameters=function(){return[{type:N},{type:F}]},n}(),U=e("OBOK"),T=e("0bRs"),z=e("V8+5"),E=e("qbdv"),q=e("8oXs"),D=e("bm2B"),K=e("6OSA"),H=e("Lpd/"),x=function(){function n(){}return n.prototype.validateSearchInput=function(n){return null},n.prototype.filterCities=function(n,t){return n?this.filterCitiesWhenNameExists(n,t):t.slice(0,5)},n.prototype.filterCitiesWhenNameExists=function(n,t){return t.filter(function(t){return 0===t.city.toLowerCase().indexOf(n.toLowerCase())}).slice(0,5)},n}(),V=function(){function n(n,t){this.http=n,this.apiService=t}return n.prototype.getLocations=function(n){return this.http.get(b.openaqApiUrl+"locations?"+this.apiService.buildOpenAQQueryString(n)).map(function(n){return n.json().results})},n.ctorParameters=function(){return[{type:Q.d},{type:k}]},n}(),j=function(){function n(n){this.locationsApi=n}return n.prototype.getLocationsByCityAndCountry=function(n,t){var e={city:n,country:t};return this.locationsApi.getLocations(e)},n.ctorParameters=function(){return[{type:V}]},n}(),W=(e("RXa1"),function(){function n(n,t,e){this.fb=n,this.searchService=t,this.locationsHandlerService=e,this.allCities=[],this.addSearchedCity=new S.q,this.searching=!1}return n.prototype.ngOnInit=function(){this.newForm(),this.filterCitiesOnInputChange()},n.prototype.attemptSearch=function(){this.searchForm.valid&&this.search()},n.prototype.newForm=function(){this.searchForm=this.fb.group({searchInput:["",this.searchService.validateSearchInput]})},n.prototype.filterCitiesOnInputChange=function(){var n=this;this.filteredCities=this.searchForm.get("searchInput").valueChanges.startWith(null).map(function(t){return n.searchService.filterCities(t,n.allCities)})},n.prototype.search=function(){var n=this;this.searching=!0;var t=this.searchForm.value.searchInput,e=this.allCities.find(function(n){return n.city===t}),l=e.country;this.locationsHandlerService.getLocationsByCityAndCountry(t,l).subscribe(function(t){return n.outputSearchedCity(e,t)})},n.prototype.outputSearchedCity=function(n,t){this.searching=!1;var e=n;e.locationsResponse=t,this.addSearchedCity.emit(e)},n.ctorParameters=function(){return[{type:D.d},{type:x},{type:j}]},n}()),J=e("1ini"),Y=e("OFGE"),Z=e("l6RC"),X=e("fc+i"),$=e("SlD5"),nn=e("Elun"),tn=[],en=S._10({encapsulation:2,styles:tn,data:{}}),ln=(S._8("aq-search",W,o,{allCities:"allCities"},{addSearchedCity:"addSearchedCity"},[]),function(){function n(){}return n.prototype.transform=function(n){return an.hasOwnProperty(n)?an[n]:n},n}()),an={AF:"Afghanistan",AX:"Aland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua And Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia And Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, Democratic Republic",CK:"Cook Islands",CR:"Costa Rica",CI:"Cote D'Ivoire",HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island & Mcdonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic Of",IQ:"Iraq",IE:"Ireland",IM:"Isle Of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KR:"Korea",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libyan Arab Jamahiriya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States Of",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",AN:"Netherlands Antilles",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena",KN:"Saint Kitts And Nevis",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre And Miquelon",VC:"Saint Vincent And Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome And Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia And Sandwich Isl.",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard And Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad And Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks And Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis And Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},rn=function(){function n(n,t){this.http=n,this.apiService=t}return n.prototype.getLatest=function(n){return this.http.get(b.openaqApiUrl+"latest?"+this.apiService.buildOpenAQQueryString(n)).map(function(n){return n.json().results})},n.ctorParameters=function(){return[{type:Q.d},{type:k}]},n}(),un=function(){function n(n){this.latestApi=n}return n.prototype.getLatestByCityAndCountry=function(n,t){var e={city:n,country:t};return this.latestApi.getLatest(e)},n.ctorParameters=function(){return[{type:rn}]},n}(),on=function(){function n(n,t){this.http=n,this.apiService=t}return n.prototype.getImage=function(n){return this.http.get(b.mapsApiUrl+"staticmap?"+this.apiService.buildMapsQueryString(n),{responseType:Q.g.Blob}).map(function(n){return n.blob()})},n.ctorParameters=function(){return[{type:Q.d},{type:k}]},n}(),cn={center:"",zoom:2,size:"550x550",key:"",scale:2,markers:"color:black|size:small",style:["feature:poi|visibility:off","feature:road|Cvisibility:off","feature:transit|visibility:off","feature:water|color:0xcccccc","feature:landscape|color:0xffffff","feature:administrative|element:labels|visibility:off","feature:administrative.country|element:geometry.stroke|color:0x555555","feature:administrative|element:geometry.fill|visibility:off"]},sn=function(){function n(n){this.staticMapsApi=n}return n.prototype.getImageByLatLong=function(n,t){var e=Object.assign({},cn),l=n.toString()+","+t.toString();return e.center=l,e.markers+="|"+l,e.key=b.staticMapsKey,this.staticMapsApi.getImage(e)},n.ctorParameters=function(){return[{type:on}]},n}(),dn={good:[0,50],moderate:[51,100],unhealthySensitive:[101,150],unhealthy:[151,200],veryUnhealthy:[201,300],hazardous1:[301,400],hazardous2:[401,500]},pn={parameter:"pm25",unit:"\xb5g/m\xb3",hours:24,levels:{good:[0,12],moderate:[12.1,35.4],unhealthySensitive:[35.5,55.4],unhealthy:[55.5,150.4],veryUnhealthy:[150.5,250.4],hazardous1:[250.5,350.4],hazardous2:[350.5,500.4]}},hn={parameter:"pm10",unit:"\xb5g/m\xb3",hours:24,levels:{good:[0,54],moderate:[55,154],unhealthySensitive:[155,254],unhealthy:[255,354],veryUnhealthy:[355,424],hazardous1:[425,504],hazardous2:[505,604]}},_n={parameter:"o3",unit:"ppm",hours:8,levels:{good:[0,.054],moderate:[.055,.07],unhealthySensitive:[.071,.085],unhealthy:[.086,.105],veryUnhealthy:[.106,.2],hazardous1:[null,null],hazardous2:[null,null]}},fn={parameter:"co",unit:"ppm",hours:8,levels:{good:[0,4.4],moderate:[4.5,9.4],unhealthySensitive:[9.5,12.4],unhealthy:[12.5,15.4],veryUnhealthy:[15.5,30.4],hazardous1:[30.5,40.4],hazardous2:[40.5,50.4]}},yn={parameter:"so2",unit:"ppb",hours:1,levels:{good:[0,35],moderate:[36,75],unhealthySensitive:[76,185],unhealthy:[186,304],veryUnhealthy:[305,604],hazardous1:[605,804],hazardous2:[805,1004]}},mn={parameter:"no2",unit:"ppb",hours:1,levels:{good:[0,53],moderate:[54,100],unhealthySensitive:[101,360],unhealthy:[361,649],veryUnhealthy:[650,1249],hazardous1:[1250,1649],hazardous2:[1650,2049]}},gn=function(){function n(){}return n.prototype.calculateAQIByParameter=function(n,t){var e;switch(t){case"pm25":e=this.calculatePM25AQI(n);break;case"pm10":e=this.calculatePM10AQI(n);break;case"o3":e=this.calculateO3AQI(n);break;case"co":e=this.calculateCOAQI(n);break;case"so2":e=this.calculateSO2AQI(n);break;case"no2":e=this.calculateNO2AQI(n);break;default:throw new Error("invalid parameter given for AQI calculation")}return e},n.prototype.calculatePM25AQI=function(n){return this.calculateParameterAQI(n,pn,1)},n.prototype.calculatePM10AQI=function(n){return this.calculateParameterAQI(n,hn,0)},n.prototype.calculateO3AQI=function(n){return this.calculateParameterAQI(n,_n,3)},n.prototype.calculateCOAQI=function(n){return this.calculateParameterAQI(n,fn,1)},n.prototype.calculateSO2AQI=function(n){return this.calculateParameterAQI(n,yn,0)},n.prototype.calculateNO2AQI=function(n){return this.calculateParameterAQI(n,mn,0)},n.prototype.calculateParameterAQI=function(n,t,e){var l,a=this,i=this.truncateAtDecimal(n,e);return Object.keys(t.levels).some(function(n){var e=t.levels[n][0],r=t.levels[n][1],u=dn[n][0],o=dn[n][1];if(e<=i&&i<=r)return l=a.linearCalculation(i,e,r,u,o),!0})?Math.round(l):this.handleUnmatchedLevel(i,t,e)},n.prototype.truncateAtDecimal=function(n,t){return+(Math.floor(n*Math.pow(10,t))/Math.pow(10,t)).toFixed(t)},n.prototype.linearCalculation=function(n,t,e,l,a){return(n-t)*(a-l)/(e-t)+l},n.prototype.handleUnmatchedLevel=function(n,t,e){if(n>=t.levels.hazardous2[1])return dn.hazardous2[1];if(n<=0)return dn.good[0];throw new Error("Failed to calculate AQI for "+t.parameter+" parameter,with value of "+n+" "+t.unit)},n.ctorParameters=function(){return[]},n}(),vn={good:"Good",moderate:"Moderate",unhealthySensitive:"Unhealthy for Sensitive Groups",unhealthy:"Unhealthy",veryUnhealthy:"Very Unhealthy",hazardous1:"Hazardous",hazardous2:"Hazardous"},Cn={good:"green",moderate:"yellow",unhealthySensitive:"orange",unhealthy:"red",veryUnhealthy:"purple",hazardous1:"maroon",hazardous2:"maroon"},Sn=function(){function n(){}return n.prototype.getAQIClassName=function(n){var t,e=Math.round(n);return Object.keys(dn).some(function(n){if(dn[n][0]<=e&&e<=dn[n][1])return t=Cn[n],!0}),t||"unknown"},n.prototype.getLevelDescription=function(n){return vn.hasOwnProperty(n)?vn[n]:"Unknown"},n.ctorParameters=function(){return[]},n}(),bn=function(){function n(n,t,e){this.calculationService=n,this.calculationNamingService=t,this.staticMapsHandlerService=e}return n.prototype.getAQIByParameter=function(n,t){var e=this,l=[];t.forEach(function(t){var e=t.measurements.find(function(t){return t.parameter===n});e&&l.push(e)});var a=l.map(function(t){return e.calculationService.calculateAQIByParameter(t.value,n)});return a.reduce(function(n,t){return n+t},0)/a.length},n.prototype.getStaticMapsImageFileURL=function(n){var t=this,e=this.getLatLong(n);return this.staticMapsHandlerService.getImageByLatLong(e.latitude,e.longitude).toPromise().then(function(n){return t.createImageFromBlob(n)})},n.prototype.getOverallAQI=function(n){var t=n.map(function(n){return n.value});return!n||n.length<=0?0:t.reduce(function(n,t){return Math.max(n,t)})},n.prototype.getOverallAQIClass=function(n){var t=this.getOverallAQI(n);return this.calculationNamingService.getAQIClassName(t)},n.prototype.createImageFromBlob=function(n){var t=new FileReader;return n?(t.readAsDataURL(n),new Promise(function(n){t.onloadend=function(){return n(t.result)}})):Promise.resolve(null)},n.prototype.getLatLong=function(n){var t=this,e={latitude:0,longitude:0};return n.locationsResponse.some(function(n){if(console.log(n),t.hasLatLong(n.coordinates))return e.latitude=n.coordinates.latitude,e.longitude=n.coordinates.longitude,!0}),e},n.prototype.hasLatLong=function(n){return!(!n.latitude||!n.longitude)},n.ctorParameters=function(){return[{type:gn},{type:Sn},{type:sn}]},n}(),An=(e("ivSB"),function(){function n(n,t,e){this.latestHandlerService=n,this.staticMapsHandlerService=t,this.cityService=e,this.aqis=[],this.staticMapsURL=""}return n.prototype.ngOnInit=function(){var n=this;console.log("searchedCity:",this.searchedCity),this.getLatestCityMeasurements().subscribe(function(t){n.getAvailableParameters().forEach(function(t){return n.aqis.push({parameter:t,value:n.cityService.getAQIByParameter(t,n.latestResponse)})})}),this.cityService.getStaticMapsImageFileURL(this.searchedCity).then(function(t){return n.staticMapsURL=t})},n.prototype.overallAQI=function(){return this.cityService.getOverallAQI(this.aqis)},n.prototype.overallAQIClass=function(){return this.cityService.getOverallAQIClass(this.aqis)},n.prototype.getLatestCityMeasurements=function(){var n=this;return this.getLatest().map(function(t){return n.latestResponse=t})},n.prototype.getAvailableParameters=function(){var n=[];return this.searchedCity.locationsResponse.forEach(function(t){t.parameters.forEach(function(t){-1===n.findIndex(function(n){return n===t})&&n.push(t)})}),n},n.prototype.getLatest=function(){var n=this.searchedCity.city,t=this.searchedCity.country;return this.latestHandlerService.getLatestByCityAndCountry(n,t)},n.ctorParameters=function(){return[{type:un},{type:sn},{type:bn}]},n}()),In=[],Mn=S._10({encapsulation:2,styles:In,data:{}}),Pn=(S._8("aq-city-card",An,d,{searchedCity:"searchedCity"},{},[]),function(){function n(){this.animationStarted=!1}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[]},n}()),Ln=[],Bn=S._10({encapsulation:2,styles:Ln,data:{animation:[{type:7,name:"fadeSlide",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{transform:"translateY(-100%)",opacity:0},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(0)",opacity:1},offset:null},timings:"300ms"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{transform:"translateY(0)",opacity:1},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(-100%)",opacity:0},offset:null},timings:"300ms"}],options:null}],options:{}}]}}),On=(S._8("aq-city-cards-list",Pn,_,{searchedCities:"searchedCities"},{},[]),[]),wn=S._10({encapsulation:2,styles:On,data:{}}),Fn=(S._8("aq-compare",R,y,{},{},[]),function(){function n(){}return n.ctorParameters=function(){return[]},n}()),Qn=[],kn=S._10({encapsulation:2,styles:Qn,data:{}}),Gn=(S._8("aq-home",Fn,g,{},{},[]),[]),Nn=S._10({encapsulation:2,styles:Gn,data:{}}),Rn=S._8("aq-app",I,C,{},{},[]),Un=e("f9zQ"),Tn=e("fL27"),zn=e("EyWH"),En=e("8Xfy"),qn=e("4jwp"),Dn=e("vgc3"),Kn=function(){function n(){}return n}(),Hn=function(){function n(){}return n}(),xn=function(){function n(){}return n}(),Vn=function(){function n(){}return n}(),jn=e("ghl+"),Wn=e("CZgk"),Jn=function(){function n(){}return n}(),Yn=function(){function n(){}return n}(),Zn=function(){function n(){}return n}(),Xn=function(){function n(){}return n}(),$n=function(){function n(){}return n}(),nt=function(){function n(){}return n}(),tt=function(){function n(){}return n}(),et=S._9(A,[I],function(n){return S._23([S._24(512,S.k,S._5,[[8,[Rn]],[3,S.k],S.B]),S._24(5120,S.z,S._22,[[3,S.z]]),S._24(4608,E.h,E.g,[S.z]),S._24(4608,S.i,S.i,[]),S._24(5120,S.a,S._14,[]),S._24(5120,S.x,S._19,[]),S._24(5120,S.y,S._20,[]),S._24(4608,X.c,X.t,[E.c]),S._24(6144,S.N,null,[X.c]),S._24(4608,X.f,X.g,[]),S._24(5120,X.d,function(n,t,e,l){return[new X.l(n),new X.p(t),new X.o(e,l)]},[E.c,E.c,E.c,X.f]),S._24(4608,X.e,X.e,[X.d,S.D]),S._24(135680,X.n,X.n,[E.c]),S._24(4608,X.m,X.m,[X.e,X.n]),S._24(5120,Un.a,Tn.d,[]),S._24(5120,Un.c,Tn.e,[]),S._24(4608,Un.b,Tn.c,[Un.a,Un.c]),S._24(5120,S.L,Tn.f,[X.m,Un.b,S.D]),S._24(6144,X.q,null,[X.n]),S._24(4608,S.S,S.S,[S.D]),S._24(4608,X.h,X.h,[E.c]),S._24(4608,X.j,X.j,[E.c]),S._24(4608,Q.c,Q.c,[]),S._24(4608,Q.h,Q.b,[]),S._24(5120,Q.j,Q.k,[]),S._24(4608,Q.i,Q.i,[Q.c,Q.h,Q.j]),S._24(4608,Q.f,Q.a,[]),S._24(5120,Q.d,Q.l,[Q.i,Q.f]),S._24(4608,D.d,D.d,[]),S._24(4608,D.o,D.o,[]),S._24(4608,k,k,[]),S._24(4608,G,G,[Q.d,k]),S._24(4608,rn,rn,[Q.d,k]),S._24(4608,V,V,[Q.d,k]),S._24(4608,on,on,[Q.d,k]),S._24(4608,gn,gn,[]),S._24(4608,Sn,Sn,[]),S._24(4608,N,N,[G]),S._24(4608,un,un,[rn]),S._24(4608,j,j,[V]),S._24(4608,sn,sn,[on]),S._24(4608,zn.b,Tn.b,[S.L,X.b]),S._24(6144,Z.b,null,[X.b]),S._24(4608,Z.c,Z.c,[[2,Z.b]]),S._24(4608,z.a,z.a,[]),S._24(4608,En.h,En.h,[z.a]),S._24(4608,En.g,En.g,[En.h,z.a,S.D]),S._24(136192,En.d,En.b,[[3,En.d],z.a]),S._24(5120,En.k,En.j,[[3,En.k],[2,En.i],z.a]),S._24(5120,En.f,En.e,[[3,En.f],S.D,z.a]),S._24(5120,qn.c,qn.a,[[3,qn.c],S.D,z.a]),S._24(5120,qn.f,qn.e,[[3,qn.f],z.a,S.D,qn.c]),S._24(4608,Y.e,Y.e,[qn.c,qn.f]),S._24(5120,Y.c,Y.f,[[3,Y.c]]),S._24(4608,Y.i,Y.i,[qn.f]),S._24(4608,Y.a,Y.a,[Y.e,Y.c,S.k,Y.i,S.e,S.v,S.D]),S._24(5120,Y.g,Y.h,[Y.a]),S._24(5120,J.a,J.b,[Y.a]),S._24(4608,P.c,P.c,[]),S._24(5120,Dn.c,Dn.a,[[3,Dn.c],[2,Q.d],X.c]),S._24(4608,x,x,[]),S._24(4608,bn,bn,[gn,Sn,sn]),S._24(4608,F,F,[]),S._24(512,E.b,E.b,[]),S._24(1024,S.p,X.r,[]),S._24(1024,S.b,function(n,t){return[X.s(n,t)]},[[2,X.i],[2,S.C]]),S._24(512,S.c,S.c,[[2,S.b]]),S._24(131584,S._12,S._12,[S.D,S._6,S.v,S.p,S.k,S.c]),S._24(2048,S.e,null,[S._12]),S._24(512,S.d,S.d,[S.e]),S._24(512,X.a,X.a,[[3,X.a]]),S._24(512,Q.e,Q.e,[]),S._24(512,D.m,D.m,[]),S._24(512,D.l,D.l,[]),S._24(512,Kn,Kn,[]),S._24(512,Hn,Hn,[]),S._24(512,xn,xn,[]),S._24(512,Vn,Vn,[]),S._24(512,Tn.a,Tn.a,[]),S._24(512,P.a,P.a,[]),S._24(512,Z.a,Z.a,[]),S._24(256,P.d,!0,[]),S._24(512,P.j,P.j,[[2,P.d]]),S._24(512,L.c,L.c,[]),S._24(512,z.b,z.b,[]),S._24(512,P.t,P.t,[]),S._24(512,En.a,En.a,[]),S._24(512,jn.a,jn.a,[]),S._24(512,P.r,P.r,[]),S._24(512,P.o,P.o,[]),S._24(512,Wn.b,Wn.b,[]),S._24(512,qn.b,qn.b,[]),S._24(512,Y.d,Y.d,[]),S._24(512,J.d,J.d,[]),S._24(512,H.c,H.c,[]),S._24(512,$.b,$.b,[]),S._24(512,Dn.b,Dn.b,[]),S._24(512,T.b,T.b,[]),S._24(512,Jn,Jn,[]),S._24(512,Yn,Yn,[]),S._24(512,Zn,Zn,[]),S._24(512,Xn,Xn,[]),S._24(512,$n,$n,[]),S._24(512,nt,nt,[]),S._24(512,tt,tt,[]),S._24(512,A,A,[])])});b.production&&Object(S.Z)(),Object(X.k)().bootstrapModuleFactory(et).catch(function(n){return console.log(n)})},gFIY:function(n,t){function e(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id="gFIY"}},[0]);