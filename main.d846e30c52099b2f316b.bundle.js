webpackJsonp([1],{0:function(n,t,l){n.exports=l("cDNt")},cDNt:function(n,t,l){"use strict";function e(n){return C._34(0,[(n()(),C._13(0,0,null,null,9,"mat-card",[["class","intro mat-card"]],null,null,null,I.b,I.a)),C._11(1,16384,null,0,w.p,[],null,null),C._11(2,49152,null,0,Q.a,[],null,null),(n()(),C._32(-1,0,["\n    "])),(n()(),C._13(4,0,null,0,1,"h1",[],null,null,null,null,null)),(n()(),C._32(-1,null,["Welcome to CityAQ"])),(n()(),C._32(-1,0,["\n    "])),(n()(),C._13(7,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),C._32(-1,null,["Compare air quality for cities by searching below"])),(n()(),C._32(-1,0,["\n"]))],null,null)}function u(n){return C._34(0,[(n()(),C._13(0,0,null,null,1,"aq-intro",[],null,null,null,e,k)),C._11(1,49152,null,0,P,[],null,null)],null,null)}function r(n){return C._34(0,[(n()(),C._13(0,0,null,null,7,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(n,t,l){var e=!0;if("click"===t){e=!1!==C._26(n,2)._selectViaInteraction()&&e}if("keydown"===t){e=!1!==C._26(n,2)._handleKeydown(l)&&e}return e},j.b,j.a)),C._11(1,16384,null,0,w.p,[],null,null),C._11(2,49152,[[7,4]],0,w.n,[C.o,C.h,[2,w.m]],{value:[0,"value"]},null),(n()(),C._32(-1,0,["\n                "])),(n()(),C._13(4,0,null,0,2,"span",[],null,null,null,null,null)),(n()(),C._32(5,null,["",""])),C._28(6,1),(n()(),C._32(-1,0,["\n            "]))],function(n,t){n(t,2,0,t.context.$implicit.city)},function(n,t){n(t,0,0,C._26(t,2)._getTabIndex(),C._26(t,2).selected,C._26(t,2).multiple,C._26(t,2).active,C._26(t,2).id,C._26(t,2).selected.toString(),C._26(t,2).disabled.toString(),C._26(t,2).disabled),n(t,5,0,C._33(t,5,0,n(t,6,0,C._26(t.parent,0),t.context.$implicit.city)))})}function a(n){return C._34(0,[C._27(0,M.l,[]),(n()(),C._13(1,0,null,null,43,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,t,l){var e=!0;if("submit"===t){e=!1!==C._26(n,3).onSubmit(l)&&e}if("reset"===t){e=!1!==C._26(n,3).onReset()&&e}return e},null,null)),C._11(2,16384,null,0,D.n,[],null,null),C._11(3,540672,null,0,D.f,[[8,null],[8,null]],{form:[0,"form"]},null),C._29(2048,null,D.b,null,[D.f]),C._11(5,16384,null,0,D.j,[D.b],null,null),(n()(),C._32(-1,null,["\n    "])),(n()(),C._13(7,0,null,null,36,"mat-form-field",[["class","cities-input mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-focused",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,B.b,B.a)),C._11(8,16384,null,0,w.p,[],null,null),C._11(9,7389184,null,6,E.a,[C.o,C.K,C.h,[2,w.h]],null,null),C._30(335544320,1,{_control:0}),C._30(335544320,2,{_placeholderChild:0}),C._30(603979776,3,{_errorChildren:1}),C._30(603979776,4,{_hintChildren:1}),C._30(603979776,5,{_prefixChildren:1}),C._30(603979776,6,{_suffixChildren:1}),(n()(),C._32(-1,1,["\n        "])),(n()(),C._13(17,16777216,null,1,9,"input",[["aria-autocomplete","list"],["aria-label","City"],["autocomplete","off"],["class","mat-input-element mat-form-field-autofill-control"],["formControlName","searchInput"],["matInput",""],["placeholder","City"],["role","combobox"]],[[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0]],[[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focusin"],[null,"keydown"],[null,"focus"]],function(n,t,l){var e=!0,u=n.component;if("input"===t){e=!1!==C._26(n,18)._handleInput(l.target.value)&&e}if("blur"===t){e=!1!==C._26(n,18).onTouched()&&e}if("compositionstart"===t){e=!1!==C._26(n,18)._compositionStart()&&e}if("compositionend"===t){e=!1!==C._26(n,18)._compositionEnd(l.target.value)&&e}if("focusin"===t){e=!1!==C._26(n,19)._handleFocus()&&e}if("blur"===t){e=!1!==C._26(n,19)._onTouched()&&e}if("input"===t){e=!1!==C._26(n,19)._handleInput(l)&&e}if("keydown"===t){e=!1!==C._26(n,19)._handleKeydown(l)&&e}if("blur"===t){e=!1!==C._26(n,25)._focusChanged(!1)&&e}if("focus"===t){e=!1!==C._26(n,25)._focusChanged(!0)&&e}if("input"===t){e=!1!==C._26(n,25)._onInput()&&e}if("keyup.enter"===t){e=!1!==u.attemptSearch()&&e}return e},null,null)),C._11(18,16384,null,0,D.c,[C.K,C.o,[2,D.a]],null,null),C._11(19,147456,null,0,G.e,[C.o,K.a,C.V,C.D,C.h,G.a,[2,T.c],[2,E.a],[2,W.b]],{autocomplete:[0,"autocomplete"]},null),C._29(1024,null,D.g,function(n,t){return[n,t]},[D.c,G.e]),C._11(21,671744,null,0,D.e,[[3,D.b],[8,null],[8,null],[2,D.g]],{name:[0,"name"]},null),C._29(2048,null,D.h,null,[D.e]),C._11(23,16384,null,0,D.i,[D.h],null,null),C._11(24,16384,null,0,w.p,[],null,null),C._11(25,933888,null,0,$.a,[C.o,C.K,X.a,[2,D.h],[2,D.k],[2,D.f],w.c],{placeholder:[0,"placeholder"]},null),C._29(2048,[[1,4]],E.b,null,[$.a]),(n()(),C._32(-1,1,["\n        "])),(n()(),C._13(28,0,null,1,3,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,Y.b,Y.a)),C._11(29,16384,null,0,w.p,[],null,null),C._11(30,638976,null,0,Z.b,[C.K,C.o,Z.d,[8,null]],null,null),(n()(),C._32(-1,0,["search"])),(n()(),C._32(-1,1,["\n        "])),(n()(),C._13(33,0,null,1,9,"mat-autocomplete",[["class","mat-autocomplete"]],null,null,null,J.b,J.a)),C._11(34,16384,null,0,w.p,[],null,null),C._11(35,1097728,[["auto",4]],2,G.c,[C.h,C.o],null,null),C._30(603979776,7,{options:1}),C._30(603979776,8,{optionGroups:1}),(n()(),C._32(-1,0,["\n            "])),(n()(),C._7(16777216,null,0,2,null,r)),C._11(40,802816,null,0,M.e,[C.V,C.R,C.x],{ngForOf:[0,"ngForOf"]},null),C._27(131072,M.a,[C.h]),(n()(),C._32(-1,0,["\n        "])),(n()(),C._32(-1,1,["\n    "])),(n()(),C._32(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,l.searchForm),n(t,19,0,C._26(t,35));n(t,21,0,"searchInput");n(t,25,0,"City"),n(t,30,0),n(t,40,0,C._33(t,40,0,C._26(t,41).transform(l.filteredCities)))},function(n,t){n(t,1,0,C._26(t,5).ngClassUntouched,C._26(t,5).ngClassTouched,C._26(t,5).ngClassPristine,C._26(t,5).ngClassDirty,C._26(t,5).ngClassValid,C._26(t,5).ngClassInvalid,C._26(t,5).ngClassPending),n(t,7,1,[C._26(t,9)._control.errorState,C._26(t,9)._control.errorState,C._26(t,9)._canPlaceholderFloat,C._26(t,9)._control.shouldPlaceholderFloat||C._26(t,9)._shouldAlwaysFloat,C._26(t,9)._control.focused,"primary"==C._26(t,9).color,"accent"==C._26(t,9).color,"warn"==C._26(t,9).color,C._26(t,9)._shouldForward("untouched"),C._26(t,9)._shouldForward("touched"),C._26(t,9)._shouldForward("pristine"),C._26(t,9)._shouldForward("dirty"),C._26(t,9)._shouldForward("valid"),C._26(t,9)._shouldForward("invalid"),C._26(t,9)._shouldForward("pending")]),n(t,17,1,[null==C._26(t,19).activeOption?null:C._26(t,19).activeOption.id,C._26(t,19).panelOpen.toString(),null==C._26(t,19).autocomplete?null:C._26(t,19).autocomplete.id,C._26(t,23).ngClassUntouched,C._26(t,23).ngClassTouched,C._26(t,23).ngClassPristine,C._26(t,23).ngClassDirty,C._26(t,23).ngClassValid,C._26(t,23).ngClassInvalid,C._26(t,23).ngClassPending,C._26(t,25).id,C._26(t,25).placeholder,C._26(t,25).disabled,C._26(t,25).required,C._26(t,25).readonly,C._26(t,25)._ariaDescribedby||null,C._26(t,25).errorState])})}function i(n){return C._34(0,[(n()(),C._13(0,0,null,null,1,"aq-search",[],null,null,null,a,tn)),C._11(1,114688,null,0,H,[D.d,R,V],null,null)],function(n,t){n(t,1,0)},null)}function o(n){return C._34(0,[(n()(),C._13(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),C._32(1,null,["\n        "," AQI: ","\n    "]))],null,function(n,t){n(t,1,0,t.context.$implicit.parameter,t.context.$implicit.value)})}function c(n){return C._34(0,[C._27(0,M.l,[]),(n()(),C._13(1,0,null,null,14,"mat-card",[["class","mat-card"]],null,null,null,I.b,I.a)),C._11(2,16384,null,0,w.p,[],null,null),C._11(3,49152,null,0,Q.a,[],null,null),(n()(),C._32(-1,0,["\n    "])),(n()(),C._13(5,0,null,0,2,"h2",[],null,null,null,null,null)),(n()(),C._32(6,null,["",""])),C._28(7,1),(n()(),C._32(-1,0,["\n    "])),(n()(),C._13(9,0,null,0,2,"h4",[],null,null,null,null,null)),(n()(),C._32(10,null,["",""])),C._28(11,1),(n()(),C._32(-1,0,["\n    "])),(n()(),C._7(16777216,null,0,1,null,o)),C._11(14,802816,null,0,M.e,[C.V,C.R,C.x],{ngForOf:[0,"ngForOf"]},null),(n()(),C._32(-1,0,["\n"]))],function(n,t){n(t,14,0,t.component.aqis)},function(n,t){var l=t.component;n(t,6,0,C._33(t,6,0,n(t,7,0,C._26(t,0),null==l.latestCityMeasurements?null:l.latestCityMeasurements.city))),n(t,10,0,C._33(t,10,0,n(t,11,0,C._26(t,0),null==l.latestCityMeasurements?null:l.latestCityMeasurements.country)))})}function s(n){return C._34(0,[(n()(),C._13(0,0,null,null,1,"aq-city-card",[],null,null,null,c,fn)),C._11(1,114688,null,0,dn,[en,hn],null,null)],function(n,t){n(t,1,0)},null)}function _(n){return C._34(0,[(n()(),C._13(0,0,null,null,1,"aq-city-card",[],null,null,null,c,fn)),C._11(1,114688,null,0,dn,[en,hn],{searchedCity:[0,"searchedCity"]},null)],function(n,t){n(t,1,0,t.context.$implicit)},null)}function h(n){return C._34(0,[(n()(),C._7(16777216,null,null,1,null,_)),C._11(1,802816,null,0,M.e,[C.V,C.R,C.x],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,1,0,t.component.searchedCities)},null)}function d(n){return C._34(0,[(n()(),C._13(0,0,null,null,1,"aq-city-cards-list",[],null,null,null,h,gn)),C._11(1,114688,null,0,yn,[],null,null)],function(n,t){n(t,1,0)},null)}function p(n){return C._34(0,[(n()(),C._13(0,0,null,null,1,"aq-search",[],null,[[null,"addSearchedCity"]],function(n,t,l){var e=!0,u=n.component;if("addSearchedCity"===t){e=!1!==u.addSearchedCity(l)&&e}return e},a,tn)),C._11(1,114688,null,0,H,[D.d,R,V],{allCities:[0,"allCities"]},{addSearchedCity:"addSearchedCity"}),(n()(),C._32(-1,null,["\n"])),(n()(),C._13(3,0,null,null,1,"aq-city-cards-list",[],null,null,null,h,gn)),C._11(4,114688,null,0,yn,[],{searchedCities:[0,"searchedCities"]},null)],function(n,t){var l=t.component;n(t,1,0,l.allCities),n(t,4,0,l.searchedCities)},null)}function f(n){return C._34(0,[(n()(),C._13(0,0,null,null,1,"aq-compare",[],null,null,null,p,Cn)),C._11(1,114688,null,0,U,[x,q],null,null)],function(n,t){n(t,1,0)},null)}function y(n){return C._34(0,[(n()(),C._13(0,0,null,null,7,"div",[["class","wrapper"]],null,null,null,null,null)),(n()(),C._32(-1,null,["\n    "])),(n()(),C._13(2,0,null,null,1,"aq-intro",[],null,null,null,e,k)),C._11(3,49152,null,0,P,[],null,null),(n()(),C._32(-1,null,["\n    "])),(n()(),C._13(5,0,null,null,1,"aq-compare",[],null,null,null,p,Cn)),C._11(6,114688,null,0,U,[x,q],null,null),(n()(),C._32(-1,null,["\n"]))],function(n,t){n(t,6,0)},null)}function m(n){return C._34(0,[(n()(),C._13(0,0,null,null,1,"aq-home",[],null,null,null,y,An)),C._11(1,49152,null,0,bn,[],null,null)],null,null)}function g(n){return C._34(0,[(n()(),C._13(0,0,null,null,1,"aq-home",[],null,null,null,y,An)),C._11(1,49152,null,0,bn,[],null,null)],null,null)}function v(n){return C._34(0,[(n()(),C._13(0,0,null,null,1,"aq-app",[],null,null,null,g,wn)),C._11(1,49152,null,0,A,[],null,null)],null,null)}Object.defineProperty(t,"__esModule",{value:!0});var C=l("/oeL"),b={production:!0,openaqApiUrl:"https://api.openaq.org/v1/"},S=function(){function n(){}return n}(),A=function(){function n(){}return n.ctorParameters=function(){return[]},n}(),I=l("z4MQ"),w=l("j5BN"),Q=l("Ioj9"),P=function(){function n(){}return n.ctorParameters=function(){return[]},n}(),O=[],k=C._10({encapsulation:2,styles:O,data:{}}),q=(C._8("aq-intro",P,u,{},{},[]),function(){function n(){}return n.prototype.sortCities=function(n,t){var l=n.city.toLowerCase(),e=t.city.toLowerCase();return l<e?-1:l>e?1:0},n}()),F=l("CPp0"),z=function(){function n(){}return n.prototype.buildBaseQueryString=function(n){return this.setBaseQueryArray(n).join("&")||""},n.prototype.buildOpenAQQueryString=function(n){var t=this,l=this.setBaseQueryArray(n);return Object.keys(n).forEach(function(e){Array.isArray(n[e])&&n[e].forEach(function(n){null!=n&&l.push(t.encode(e+"[]",n))})}),l.join("&")||""},n.prototype.encode=function(n,t){return encodeURIComponent(n)+"="+encodeURIComponent(t.toString())},n.prototype.setBaseQueryArray=function(n){var t=this,l=[];return Object.keys(n).forEach(function(e){Array.isArray(n[e])||null==n[e]||l.push(t.encode(e,n[e]))}),l},n}(),L=(l("GQSG"),function(){function n(n,t){this.http=n,this.apiService=t}return n.prototype.getCities=function(n){return this.http.get(b.openaqApiUrl+"cities?"+this.apiService.buildOpenAQQueryString(n)).map(function(n){return n.json().results})},n.ctorParameters=function(){return[{type:F.d},{type:z}]},n}()),x=function(){function n(n){this.citiesApi=n}return n.prototype.getAllCities=function(){var n={limit:9999};return this.citiesApi.getCities(n)},n.ctorParameters=function(){return[{type:L}]},n}(),U=function(){function n(n,t){this.citiesHandlerService=n,this.compareService=t,this.allCities=[],this.searchedCities=[]}return n.prototype.ngOnInit=function(){this.loadCities()},n.prototype.loadCities=function(){var n=this;this.citiesHandlerService.getAllCities().subscribe(function(t){return n.allCities=t.sort(n.compareService.sortCities)})},n.prototype.addSearchedCity=function(n){this.searchedCities.push(n)},n.ctorParameters=function(){return[{type:x},{type:q}]},n}(),j=l("8oXs"),M=l("qbdv"),D=l("bm2B"),B=l("6OSA"),E=l("Lpd/"),R=function(){function n(){}return n.prototype.validateSearchInput=function(n){return null},n.prototype.filterCities=function(n,t){return n?this.filterCitiesWhenNameExists(n,t):t.slice(0,5)},n.prototype.filterCitiesWhenNameExists=function(n,t){return t.filter(function(t){return 0===t.city.toLowerCase().indexOf(n.toLowerCase())}).slice(0,5)},n}(),N=function(){function n(n,t){this.http=n,this.apiService=t}return n.prototype.getLocations=function(n){return this.http.get(b.openaqApiUrl+"locations?"+this.apiService.buildOpenAQQueryString(n)).map(function(n){return n.json().results})},n.ctorParameters=function(){return[{type:F.d},{type:z}]},n}(),V=function(){function n(n){this.locationsApi=n}return n.prototype.getLocationsByCityAndCountry=function(n,t){var l={city:n,country:t};return this.locationsApi.getLocations(l)},n.ctorParameters=function(){return[{type:N}]},n}(),H=(l("RXa1"),function(){function n(n,t,l){this.fb=n,this.searchService=t,this.locationsHandlerService=l,this.allCities=[],this.addSearchedCity=new C.q}return n.prototype.ngOnInit=function(){this.newForm(),this.filterCitiesOnInputChange()},n.prototype.attemptSearch=function(){this.searchForm.valid&&this.search()},n.prototype.newForm=function(){this.searchForm=this.fb.group({searchInput:["",this.searchService.validateSearchInput]})},n.prototype.filterCitiesOnInputChange=function(){var n=this;this.filteredCities=this.searchForm.get("searchInput").valueChanges.startWith(null).map(function(t){return n.searchService.filterCities(t,n.allCities)})},n.prototype.search=function(){var n=this,t=this.searchForm.value.searchInput,l=this.allCities.find(function(n){return n.city===t}),e=l.country;this.locationsHandlerService.getLocationsByCityAndCountry(t,e).subscribe(function(t){return n.outputSearchedCity(l,t)})},n.prototype.outputSearchedCity=function(n,t){var l=n;l.locationsResponse=t,this.addSearchedCity.emit(l)},n.ctorParameters=function(){return[{type:D.d},{type:R},{type:V}]},n}()),G=l("1ini"),K=l("OFGE"),T=l("l6RC"),W=l("fc+i"),$=l("SlD5"),X=l("V8+5"),Y=l("Bhux"),Z=l("vgc3"),J=l("Elun"),nn=[],tn=C._10({encapsulation:2,styles:nn,data:{}}),ln=(C._8("aq-search",H,i,{allCities:"allCities"},{addSearchedCity:"addSearchedCity"},[]),function(){function n(n,t){this.http=n,this.apiService=t}return n.prototype.getLatest=function(n){return this.http.get(b.openaqApiUrl+"latest?"+this.apiService.buildOpenAQQueryString(n)).map(function(n){return n.json().results})},n.ctorParameters=function(){return[{type:F.d},{type:z}]},n}()),en=function(){function n(n){this.latestApi=n}return n.prototype.getLatestByCityAndCountry=function(n,t){var l={city:n,country:t};return this.latestApi.getLatest(l)},n.ctorParameters=function(){return[{type:ln}]},n}(),un={good:[0,50],moderate:[51,100],unhealthySensitive:[101,150],unhealthy:[151,200],veryUnhealthy:[201,300],hazardous1:[301,400],hazardous2:[401,500]},rn={parameter:"pm25",unit:"\xb5g/m\xb3",hours:24,levels:{good:[0,12],moderate:[12.1,35.4],unhealthySensitive:[35.5,55.4],unhealthy:[55.5,150.4],veryUnhealthy:[150.5,250.4],hazardous1:[250.5,350.4],hazardous2:[350.5,500.4]}},an={parameter:"pm10",unit:"\xb5g/m\xb3",hours:24,levels:{good:[0,54],moderate:[55,154],unhealthySensitive:[155,254],unhealthy:[255,354],veryUnhealthy:[355,424],hazardous1:[425,504],hazardous2:[505,604]}},on={parameter:"o3",unit:"ppm",hours:8,levels:{good:[0,.054],moderate:[.055,.07],unhealthySensitive:[.071,.085],unhealthy:[.086,.105],veryUnhealthy:[.106,.2],hazardous1:[null,null],hazardous2:[null,null]}},cn={parameter:"co",unit:"ppm",hours:8,levels:{good:[0,4.4],moderate:[4.5,9.4],unhealthySensitive:[9.5,12.4],unhealthy:[12.5,15.4],veryUnhealthy:[15.5,30.4],hazardous1:[30.5,40.4],hazardous2:[40.5,50.4]}},sn={parameter:"so2",unit:"ppb",hours:1,levels:{good:[0,35],moderate:[36,75],unhealthySensitive:[76,185],unhealthy:[186,304],veryUnhealthy:[305,604],hazardous1:[605,804],hazardous2:[805,1004]}},_n={parameter:"no2",unit:"ppb",hours:1,levels:{good:[0,53],moderate:[54,100],unhealthySensitive:[101,360],unhealthy:[361,649],veryUnhealthy:[650,1249],hazardous1:[1250,1649],hazardous2:[1650,2049]}},hn=function(){function n(){}return n.prototype.calculateAQIByParameter=function(n,t){var l;switch(t){case"pm25":l=this.calculatePM25AQI(n);break;case"pm10":l=this.calculatePM10AQI(n);break;case"o3":l=this.calculateO3AQI(n);break;case"co":l=this.calculateCOAQI(n);break;case"so2":l=this.calculateSO2AQI(n);break;case"no2":l=this.calculateNO2AQI(n);break;default:throw new Error("invalid parameter given for AQI calculation")}return l},n.prototype.calculatePM25AQI=function(n){return this.calculateParameterAQI(n,rn,1)},n.prototype.calculatePM10AQI=function(n){return this.calculateParameterAQI(n,an,0)},n.prototype.calculateO3AQI=function(n){return this.calculateParameterAQI(n,on,3)},n.prototype.calculateCOAQI=function(n){return this.calculateParameterAQI(n,cn,1)},n.prototype.calculateSO2AQI=function(n){return this.calculateParameterAQI(n,sn,0)},n.prototype.calculateNO2AQI=function(n){return this.calculateParameterAQI(n,_n,0)},n.prototype.calculateParameterAQI=function(n,t,l){var e,u=this,r=this.truncateAtDecimal(n,l);return Object.keys(t.levels).some(function(n){var l=t.levels[n][0],a=t.levels[n][1],i=un[n][0],o=un[n][1];if(l<=r&&r<=a)return e=u.linearCalculation(r,l,a,i,o),!0})?Math.round(e):this.handleUnmatchedLevel(r,t,l)},n.prototype.truncateAtDecimal=function(n,t){return+(Math.floor(n*Math.pow(10,t))/Math.pow(10,t)).toFixed(t)},n.prototype.linearCalculation=function(n,t,l,e,u){return(n-t)*(u-e)/(l-t)+e},n.prototype.handleUnmatchedLevel=function(n,t,l){if(n>=t.levels.hazardous2[1])return un.hazardous2[1];if(n<=0)return un.good[0];throw new Error("Failed to calculate AQI for "+t.parameter+" parameter,with value of "+n+" "+t.unit)},n.ctorParameters=function(){return[]},n}(),dn=function(){function n(n,t){this.latestHandlerService=n,this.calculationService=t,this.aqis=[]}return n.prototype.ngOnInit=function(){var n=this;console.log("searchedCity:",this.searchedCity),this.getLatestCityMeasurements().then(function(){n.aqis.push({parameter:"pm25",value:n.getParameterAQI("pm25")}),n.aqis.push({parameter:"so2",value:n.getParameterAQI("so2")})})},n.prototype.getLatestCityMeasurements=function(){var n=this;return this.getLatest().map(function(t){n.latestCityMeasurements=n.searchedCity,n.latestCityMeasurements.latestResponse=t}).toPromise()},n.prototype.getParameterAQI=function(n){var t=this,l=[];this.latestCityMeasurements.latestResponse.forEach(function(t){var e=t.measurements.find(function(t){return t.parameter===n});e&&l.push(e)});var e=l.map(function(l){return t.calculationService.calculateAQIByParameter(l.value,n)});return e.reduce(function(n,t){return n+t},0)/e.length},n.prototype.getLatest=function(){var n=this.searchedCity.city,t=this.searchedCity.country;return this.latestHandlerService.getLatestByCityAndCountry(n,t)},n.ctorParameters=function(){return[{type:en},{type:hn}]},n}(),pn=[],fn=C._10({encapsulation:2,styles:pn,data:{}}),yn=(C._8("aq-city-card",dn,s,{searchedCity:"searchedCity"},{},[]),function(){function n(){}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[]},n}()),mn=[],gn=C._10({encapsulation:2,styles:mn,data:{}}),vn=(C._8("aq-city-cards-list",yn,d,{searchedCities:"searchedCities"},{},[]),[]),Cn=C._10({encapsulation:2,styles:vn,data:{}}),bn=(C._8("aq-compare",U,f,{},{},[]),function(){function n(){}return n.ctorParameters=function(){return[]},n}()),Sn=[],An=C._10({encapsulation:2,styles:Sn,data:{}}),In=(C._8("aq-home",bn,m,{},{},[]),[]),wn=C._10({encapsulation:2,styles:In,data:{}}),Qn=C._8("aq-app",A,v,{},{},[]),Pn=l("f9zQ"),On=l("fL27"),kn=function(){function n(){}return n.prototype.getLevelDescription=function(n){var t;switch(n){case"good":t="Good";break;case"moderate":t="Moderate";break;case"unhealthySensitive":t="Unhealthy for Sensitive Groups";break;case"unhealthy":t="Unhealthy";break;case"veryUnhealthy":t="Very Unhealthy";break;case"hazardous1":case"hazardous2":t="Hazardous";break;default:t="Unknown"}return t},n.ctorParameters=function(){return[]},n}(),qn=l("EyWH"),Fn=l("8Xfy"),zn=l("4jwp"),Ln=function(){function n(){}return n}(),xn=function(){function n(){}return n}(),Un=function(){function n(){}return n}(),jn=function(){function n(){}return n}(),Mn=l("ghl+"),Dn=l("CZgk"),Bn=function(){function n(){}return n}(),En=function(){function n(){}return n}(),Rn=function(){function n(){}return n}(),Nn=function(){function n(){}return n}(),Vn=function(){function n(){}return n}(),Hn=function(){function n(){}return n}(),Gn=C._9(S,[A],function(n){return C._23([C._24(512,C.k,C._5,[[8,[Qn]],[3,C.k],C.B]),C._24(5120,C.z,C._22,[[3,C.z]]),C._24(4608,M.h,M.g,[C.z]),C._24(4608,C.i,C.i,[]),C._24(5120,C.a,C._14,[]),C._24(5120,C.x,C._19,[]),C._24(5120,C.y,C._20,[]),C._24(4608,W.c,W.t,[M.c]),C._24(6144,C.N,null,[W.c]),C._24(4608,W.f,W.g,[]),C._24(5120,W.d,function(n,t,l,e){return[new W.l(n),new W.p(t),new W.o(l,e)]},[M.c,M.c,M.c,W.f]),C._24(4608,W.e,W.e,[W.d,C.D]),C._24(135680,W.n,W.n,[M.c]),C._24(4608,W.m,W.m,[W.e,W.n]),C._24(5120,Pn.a,On.d,[]),C._24(5120,Pn.c,On.e,[]),C._24(4608,Pn.b,On.c,[Pn.a,Pn.c]),C._24(5120,C.L,On.f,[W.m,Pn.b,C.D]),C._24(6144,W.q,null,[W.n]),C._24(4608,C.S,C.S,[C.D]),C._24(4608,W.h,W.h,[M.c]),C._24(4608,W.j,W.j,[M.c]),C._24(4608,F.c,F.c,[]),C._24(4608,F.g,F.b,[]),C._24(5120,F.i,F.j,[]),C._24(4608,F.h,F.h,[F.c,F.g,F.i]),C._24(4608,F.f,F.a,[]),C._24(5120,F.d,F.k,[F.h,F.f]),C._24(4608,D.d,D.d,[]),C._24(4608,D.o,D.o,[]),C._24(4608,z,z,[]),C._24(4608,L,L,[F.d,z]),C._24(4608,ln,ln,[F.d,z]),C._24(4608,N,N,[F.d,z]),C._24(4608,hn,hn,[]),C._24(4608,kn,kn,[]),C._24(4608,x,x,[L]),C._24(4608,en,en,[ln]),C._24(4608,V,V,[N]),C._24(4608,qn.b,On.b,[C.L,W.b]),C._24(6144,T.b,null,[W.b]),C._24(4608,T.c,T.c,[[2,T.b]]),C._24(4608,X.a,X.a,[]),C._24(4608,Fn.h,Fn.h,[X.a]),C._24(4608,Fn.g,Fn.g,[Fn.h,X.a,C.D]),C._24(136192,Fn.d,Fn.b,[[3,Fn.d],X.a]),C._24(5120,Fn.k,Fn.j,[[3,Fn.k],[2,Fn.i],X.a]),C._24(5120,Fn.f,Fn.e,[[3,Fn.f],C.D,X.a]),C._24(5120,zn.c,zn.a,[[3,zn.c],C.D,X.a]),C._24(5120,zn.f,zn.e,[[3,zn.f],X.a,C.D,zn.c]),C._24(4608,K.e,K.e,[zn.c,zn.f]),C._24(5120,K.c,K.f,[[3,K.c]]),C._24(4608,K.i,K.i,[zn.f]),C._24(4608,K.a,K.a,[K.e,K.c,C.k,K.i,C.e,C.v,C.D]),C._24(5120,K.g,K.h,[K.a]),C._24(5120,G.a,G.b,[K.a]),C._24(4608,w.c,w.c,[]),C._24(5120,Z.d,Z.a,[[3,Z.d],[2,F.d],W.c]),C._24(4608,R,R,[]),C._24(4608,q,q,[]),C._24(512,M.b,M.b,[]),C._24(1024,C.p,W.r,[]),C._24(1024,C.b,function(n,t){return[W.s(n,t)]},[[2,W.i],[2,C.C]]),C._24(512,C.c,C.c,[[2,C.b]]),C._24(131584,C._12,C._12,[C.D,C._6,C.v,C.p,C.k,C.c]),C._24(2048,C.e,null,[C._12]),C._24(512,C.d,C.d,[C.e]),C._24(512,W.a,W.a,[[3,W.a]]),C._24(512,F.e,F.e,[]),C._24(512,D.m,D.m,[]),C._24(512,D.l,D.l,[]),C._24(512,Ln,Ln,[]),C._24(512,xn,xn,[]),C._24(512,Un,Un,[]),C._24(512,jn,jn,[]),C._24(512,On.a,On.a,[]),C._24(512,w.a,w.a,[]),C._24(512,T.a,T.a,[]),C._24(256,w.d,!0,[]),C._24(512,w.j,w.j,[[2,w.d]]),C._24(512,Q.c,Q.c,[]),C._24(512,X.b,X.b,[]),C._24(512,w.t,w.t,[]),C._24(512,Fn.a,Fn.a,[]),C._24(512,Mn.a,Mn.a,[]),C._24(512,w.r,w.r,[]),C._24(512,w.o,w.o,[]),C._24(512,Dn.b,Dn.b,[]),C._24(512,zn.b,zn.b,[]),C._24(512,K.d,K.d,[]),C._24(512,G.d,G.d,[]),C._24(512,E.c,E.c,[]),C._24(512,$.b,$.b,[]),C._24(512,Z.c,Z.c,[]),C._24(512,Bn,Bn,[]),C._24(512,En,En,[]),C._24(512,Rn,Rn,[]),C._24(512,Nn,Nn,[]),C._24(512,Vn,Vn,[]),C._24(512,Hn,Hn,[]),C._24(512,S,S,[])])});b.production&&Object(C.Z)(),Object(W.k)().bootstrapModuleFactory(Gn).catch(function(n){return console.log(n)})},gFIY:function(n,t){function l(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}l.keys=function(){return[]},l.resolve=l,n.exports=l,l.id="gFIY"}},[0]);