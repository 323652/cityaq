webpackJsonp([1],{0:function(n,t,l){n.exports=l("cDNt")},cDNt:function(n,t,l){"use strict";function e(n){return F._36(0,[(n()(),F._14(0,0,null,null,18,"mat-card",[["class","intro mat-card"]],null,null,null,G.d,G.a)),F._12(1,16384,null,0,q.u,[],null,null),F._12(2,49152,null,0,N.a,[],null,null),(n()(),F._34(-1,0,["\n    "])),(n()(),F._14(4,0,null,0,7,"div",[["class","text-content"]],null,null,null,null,null)),(n()(),F._34(-1,null,["\n        "])),(n()(),F._14(6,0,null,null,1,"h1",[["class","text-green"]],null,null,null,null,null)),(n()(),F._34(-1,null,["Welcome to cityAQ"])),(n()(),F._34(-1,null,["\n        "])),(n()(),F._14(9,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),F._34(-1,null,["Compare air quality for cities by searching below"])),(n()(),F._34(-1,null,["\n    "])),(n()(),F._34(-1,0,["\n    "])),(n()(),F._14(13,0,null,0,0,"div",[["class","skyline skyline-foreground"]],null,null,null,null,null)),(n()(),F._34(-1,0,["\n    "])),(n()(),F._14(15,0,null,0,0,"div",[["class","skyline skyline-midground"]],null,null,null,null,null)),(n()(),F._34(-1,0,["\n    "])),(n()(),F._14(17,0,null,0,0,"div",[["class","skyline skyline-background"]],null,null,null,null,null)),(n()(),F._34(-1,0,["\n"]))],null,null)}function a(n){return F._36(0,[(n()(),F._14(0,0,null,null,1,"aq-intro",[],null,null,null,e,D)),F._12(1,49152,null,0,E,[],null,null)],null,null)}function r(n){return F._36(0,[(n()(),F._14(0,0,null,null,9,"button",[["class","mat-mini-fab"],["mat-mini-fab",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0,a=n.component;if("click"===t){e=!1!==a.openMenu()&&e}return e},K.b,K.a)),F._12(1,16384,null,0,q.u,[],null,null),F._12(2,180224,null,0,j.b,[F.K,F.o,H.a,W.h],null,null),F._12(3,16384,null,0,j.e,[[2,j.b],[8,null]],null,null),(n()(),F._34(-1,0,["\n            "])),(n()(),F._14(5,0,null,0,3,"mat-icon",[["aria-label","CityAQ Introduction"],["class","mat-icon"],["role","img"]],null,null,null,V.b,V.a)),F._12(6,16384,null,0,q.u,[],null,null),F._12(7,638976,null,0,J.b,[F.K,F.o,J.d,[8,null]],null,null),(n()(),F._34(-1,0,["info"])),(n()(),F._34(-1,0,["\n        "]))],function(n,t){n(t,7,0)},function(n,t){n(t,0,0,F._27(t,2).disabled||null)})}function u(n){return F._36(0,[(n()(),F._14(0,0,null,null,5,"div",[["class","banner-color"]],null,null,null,null,null)),F._12(1,278528,null,0,Y.f,[F.x,F.y,F.o,F.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),F._34(-1,null,["\n        "])),(n()(),F._8(16777216,null,null,1,null,r)),F._12(4,16384,null,0,Y.h,[F.W,F.R],{ngIf:[0,"ngIf"]},null),(n()(),F._34(-1,null,["\n    "]))],function(n,t){n(t,1,0,"banner-color","bg-"+t.context.$implicit),n(t,4,0,t.context.first)},null)}function i(n){return F._36(0,[(n()(),F._14(0,0,null,null,4,"div",[["class","banner-wrapper"]],null,null,null,null,null)),(n()(),F._34(-1,null,["    \n    "])),(n()(),F._8(16777216,null,null,1,null,u)),F._12(3,802816,null,0,Y.g,[F.W,F.R,F.x],{ngForOf:[0,"ngForOf"]},null),(n()(),F._34(-1,null,["\n"]))],function(n,t){n(t,3,0,t.component.colors)},null)}function o(n){return F._36(0,[(n()(),F._14(0,0,null,null,1,"aq-banner",[],null,null,null,i,ln)),F._12(1,114688,null,0,nn,[$],null,null)],function(n,t){n(t,1,0)},null)}function s(n){return F._36(0,[(n()(),F._14(0,0,null,null,2,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["color","accent"],["mode","indeterminate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null]],null,null,dn.b,dn.a)),F._12(1,16384,null,0,q.u,[],null,null),F._12(2,49152,null,0,pn.a,[],{color:[0,"color"],mode:[1,"mode"]},null)],function(n,t){n(t,2,0,"accent","indeterminate")},function(n,t){n(t,0,0,F._27(t,2).value,F._27(t,2).mode,"primary"==F._27(t,2).color,"accent"==F._27(t,2).color,"warn"==F._27(t,2).color)})}function c(n){return F._36(0,[(n()(),F._14(0,0,null,null,7,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(n,t,l){var e=!0;if("click"===t){e=!1!==F._27(n,1)._selectViaInteraction()&&e}if("keydown"===t){e=!1!==F._27(n,1)._handleKeydown(l)&&e}return e},fn.b,fn.a)),F._12(1,49152,[[7,4]],0,q.s,[F.o,F.h,[2,q.r]],{value:[0,"value"]},null),F._12(2,16384,null,0,q.u,[],null,null),(n()(),F._34(-1,0,["\n                "])),(n()(),F._14(4,0,null,0,2,"span",[],null,null,null,null,null)),(n()(),F._34(5,null,["",""])),F._30(6,1),(n()(),F._34(-1,0,["\n            "]))],function(n,t){n(t,1,0,t.context.$implicit.city)},function(n,t){n(t,0,0,F._27(t,1)._getTabIndex(),F._27(t,1).selected,F._27(t,1).multiple,F._27(t,1).active,F._27(t,1).id,F._27(t,1).selected.toString(),F._27(t,1).disabled.toString(),F._27(t,1).disabled),n(t,5,0,F._35(t,5,0,n(t,6,0,F._27(t.parent,0),t.context.$implicit.city)))})}function d(n){return F._36(0,[F._28(0,Y.o,[]),(n()(),F._14(1,0,null,null,42,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,t,l){var e=!0;if("submit"===t){e=!1!==F._27(n,3).onSubmit(l)&&e}if("reset"===t){e=!1!==F._27(n,3).onReset()&&e}return e},null,null)),F._12(2,16384,null,0,_n.q,[],null,null),F._12(3,540672,null,0,_n.g,[[8,null],[8,null]],{form:[0,"form"]},null),F._31(2048,null,_n.c,null,[_n.g]),F._12(5,16384,null,0,_n.l,[_n.c],null,null),(n()(),F._34(-1,null,["\n    "])),(n()(),F._14(7,0,null,null,35,"mat-form-field",[["class","cities-input mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-focused",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,hn.b,hn.a)),F._12(8,16384,null,0,q.u,[],null,null),F._12(9,7389184,null,6,yn.a,[F.o,F.K,F.h,[2,q.k]],null,null),F._32(335544320,1,{_control:0}),F._32(335544320,2,{_placeholderChild:0}),F._32(603979776,3,{_errorChildren:1}),F._32(603979776,4,{_hintChildren:1}),F._32(603979776,5,{_prefixChildren:1}),F._32(603979776,6,{_suffixChildren:1}),(n()(),F._34(-1,1,["\n        "])),(n()(),F._14(17,16777216,null,1,10,"input",[["aq-uppercase",""],["aria-autocomplete","list"],["aria-label","City"],["autocomplete","off"],["class","mat-input-element mat-form-field-autofill-control"],["formControlName","searchInput"],["matInput",""],["placeholder","City"],["role","combobox"]],[[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0]],[[null,"focus"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focusin"],[null,"keydown"]],function(n,t,l){var e=!0,a=n.component;if("input"===t){e=!1!==F._27(n,18)._handleInput(l.target.value)&&e}if("blur"===t){e=!1!==F._27(n,18).onTouched()&&e}if("compositionstart"===t){e=!1!==F._27(n,18)._compositionStart()&&e}if("compositionend"===t){e=!1!==F._27(n,18)._compositionEnd(l.target.value)&&e}if("focusin"===t){e=!1!==F._27(n,19)._handleFocus()&&e}if("blur"===t){e=!1!==F._27(n,19)._onTouched()&&e}if("input"===t){e=!1!==F._27(n,19)._handleInput(l)&&e}if("keydown"===t){e=!1!==F._27(n,19)._handleKeydown(l)&&e}if("blur"===t){e=!1!==F._27(n,26)._focusChanged(!1)&&e}if("focus"===t){e=!1!==F._27(n,26)._focusChanged(!0)&&e}if("input"===t){e=!1!==F._27(n,26)._onInput()&&e}if("focus"===t){e=!1!==a.setSearchStarted()&&e}if("keyup.enter"===t){e=!1!==a.attemptSearch()&&e}return e},null,null)),F._12(18,16384,null,0,_n.d,[F.K,F.o,[2,_n.a]],null,null),F._12(19,147456,null,0,Cn.e,[F.o,bn.b,F.W,F.D,F.h,Cn.a,[2,An.c],[2,yn.a],[2,In.b]],{autocomplete:[0,"autocomplete"]},null),F._31(1024,null,_n.i,function(n,t){return[n,t]},[_n.d,Cn.e]),F._12(21,671744,null,0,_n.f,[[3,_n.c],[8,null],[8,null],[2,_n.i]],{name:[0,"name"]},null),F._31(2048,null,_n.j,null,[_n.f]),F._12(23,16384,null,0,_n.k,[_n.j],null,null),F._12(24,212992,null,0,Pn,[_n.j],null,null),F._12(25,16384,null,0,q.u,[],null,null),F._12(26,933888,null,0,wn.a,[F.o,F.K,H.a,[2,_n.j],[2,_n.m],[2,_n.g],q.e],{placeholder:[0,"placeholder"]},null),F._31(2048,[[1,4]],yn.b,null,[wn.a]),(n()(),F._34(-1,1,["   \n        "])),(n()(),F._8(16777216,null,1,1,null,s)),F._12(30,16384,null,0,Y.h,[F.W,F.R],{ngIf:[0,"ngIf"]},null),(n()(),F._34(-1,1,["     \n        "])),(n()(),F._14(32,0,null,1,9,"mat-autocomplete",[["class","mat-autocomplete"]],null,[[null,"optionSelected"]],function(n,t,l){var e=!0,a=n.component;if("optionSelected"===t){e=!1!==a.attemptSearch()&&e}return e},Ln.b,Ln.a)),F._12(33,16384,null,0,q.u,[],null,null),F._12(34,1097728,[["auto",4]],2,Cn.c,[F.h,F.o],null,{optionSelected:"optionSelected"}),F._32(603979776,7,{options:1}),F._32(603979776,8,{optionGroups:1}),(n()(),F._34(-1,0,["\n            "])),(n()(),F._8(16777216,null,0,2,null,c)),F._12(39,802816,null,0,Y.g,[F.W,F.R,F.x],{ngForOf:[0,"ngForOf"]},null),F._28(131072,Y.a,[F.h]),(n()(),F._34(-1,0,["\n        "])),(n()(),F._34(-1,1,["        \n    "])),(n()(),F._34(-1,null,["    \n"]))],function(n,t){var l=t.component;n(t,3,0,l.searchForm),n(t,19,0,F._27(t,34));n(t,21,0,"searchInput"),n(t,24,0);n(t,26,0,"City"),n(t,30,0,l.searching),n(t,39,0,F._35(t,39,0,F._27(t,40).transform(l.filteredCities)))},function(n,t){n(t,1,0,F._27(t,5).ngClassUntouched,F._27(t,5).ngClassTouched,F._27(t,5).ngClassPristine,F._27(t,5).ngClassDirty,F._27(t,5).ngClassValid,F._27(t,5).ngClassInvalid,F._27(t,5).ngClassPending),n(t,7,1,[F._27(t,9)._control.errorState,F._27(t,9)._control.errorState,F._27(t,9)._canPlaceholderFloat,F._27(t,9)._control.shouldPlaceholderFloat||F._27(t,9)._shouldAlwaysFloat,F._27(t,9)._control.focused,"primary"==F._27(t,9).color,"accent"==F._27(t,9).color,"warn"==F._27(t,9).color,F._27(t,9)._shouldForward("untouched"),F._27(t,9)._shouldForward("touched"),F._27(t,9)._shouldForward("pristine"),F._27(t,9)._shouldForward("dirty"),F._27(t,9)._shouldForward("valid"),F._27(t,9)._shouldForward("invalid"),F._27(t,9)._shouldForward("pending")]),n(t,17,1,[null==F._27(t,19).activeOption?null:F._27(t,19).activeOption.id,F._27(t,19).panelOpen.toString(),null==F._27(t,19).autocomplete?null:F._27(t,19).autocomplete.id,F._27(t,23).ngClassUntouched,F._27(t,23).ngClassTouched,F._27(t,23).ngClassPristine,F._27(t,23).ngClassDirty,F._27(t,23).ngClassValid,F._27(t,23).ngClassInvalid,F._27(t,23).ngClassPending,F._27(t,26).id,F._27(t,26).placeholder,F._27(t,26).disabled,F._27(t,26).required,F._27(t,26).readonly,F._27(t,26)._ariaDescribedby||null,F._27(t,26).errorState])})}function p(n){return F._36(0,[(n()(),F._14(0,0,null,null,1,"aq-search",[],null,null,null,d,kn)),F._12(1,114688,null,0,Sn,[_n.e,vn,gn,$],null,null)],function(n,t){n(t,1,0)},null)}function f(n){return F._36(0,[F._28(0,Y.d,[F.z]),F._28(0,Rn,[]),(n()(),F._14(2,0,null,null,10,"div",[["class","parameter-average-indicator"]],null,null,null,null,null)),(n()(),F._34(-1,null,["\n    "])),(n()(),F._14(4,0,null,null,3,"span",[["class","average-concentration"]],null,null,null,null,null)),F._12(5,278528,null,0,Y.f,[F.x,F.y,F.o,F.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),F._34(6,null,["\n        ","\n    "])),F._30(7,2),(n()(),F._34(-1,null,["\n    "])),(n()(),F._14(9,0,null,null,2,"span",[["class","average-parameter"]],null,null,null,null,null)),(n()(),F._34(10,null,["\n        ","\n    "])),F._30(11,1),(n()(),F._34(-1,null,["       \n"])),(n()(),F._34(-1,null,["\n"])),(n()(),F._14(14,0,null,null,1,"span",[["class","average-unit"]],null,null,null,null,null)),(n()(),F._34(15,null,["\n    ","\n"]))],function(n,t){var l=t.component;n(t,5,0,"average-concentration","text-"+(null==l.average?null:l.average.class))},function(n,t){var l=t.component;n(t,6,0,F._35(t,6,0,n(t,7,0,F._27(t,0),null==l.average?null:l.average.concentration,"1.0-2"))),n(t,10,0,F._35(t,10,0,n(t,11,0,F._27(t,1),null==l.average?null:l.average.parameter))),n(t,15,0,l.average.unit)})}function _(n){return F._36(0,[(n()(),F._14(0,0,null,null,1,"aq-parameter-average-indicator",[],null,null,null,f,qn)),F._12(1,114688,null,0,Qn,[Tn],null,null)],function(n,t){n(t,1,0)},null)}function h(n){return F._36(0,[(n()(),F._14(0,0,null,null,2,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["color","accent"],["mode","indeterminate"],["role","progressbar"]],[[24,"@fade",0],[4,"width","px"],[4,"height","px"]],null,null,zn.b,zn.a)),F._12(1,16384,null,0,q.u,[],null,null),F._12(2,573440,null,0,Dn.c,[F.K,F.o,H.a,[2,Y.c]],{color:[0,"color"],diameter:[1,"diameter"],strokeWidth:[2,"strokeWidth"]},null)],function(n,t){n(t,2,0,"accent",54,5)},function(n,t){n(t,0,0,void 0,F._27(t,2)._elementSize,F._27(t,2)._elementSize)})}function y(n){return F._36(0,[(n()(),F._14(0,0,null,null,6,"div",[["class","aqi-indicator"]],[[24,"@fade",0]],null,null,null,null)),F._12(1,278528,null,0,Y.f,[F.x,F.y,F.o,F.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),F._34(-1,null,["\n        "])),(n()(),F._14(3,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),F._34(4,null,["",""])),F._30(5,2),(n()(),F._34(-1,null,["\n    "]))],function(n,t){n(t,1,0,"aqi-indicator",t.component.indicatorClass)},function(n,t){var l=t.component;n(t,0,0,void 0),n(t,4,0,F._35(t,4,0,n(t,5,0,F._27(t.parent,0),l.AQI,"1.0-0")))})}function m(n){return F._36(0,[F._28(0,Y.d,[F.z]),(n()(),F._14(1,0,null,null,7,"div",[["class","aqi-indicator-wrapper"]],null,null,null,null,null)),(n()(),F._34(-1,null,["\n    "])),(n()(),F._8(16777216,null,null,1,null,h)),F._12(4,16384,null,0,Y.h,[F.W,F.R],{ngIf:[0,"ngIf"]},null),(n()(),F._34(-1,null,["\n    "])),(n()(),F._8(16777216,null,null,1,null,y)),F._12(7,16384,null,0,Y.h,[F.W,F.R],{ngIf:[0,"ngIf"]},null),(n()(),F._34(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,4,0,null==l.AQI),n(t,7,0,null!=l.AQI)},null)}function g(n){return F._36(0,[(n()(),F._14(0,0,null,null,1,"aq-aqi-indicator",[],null,null,null,m,Hn)),F._12(1,114688,null,0,Kn,[Tn],null,null)],function(n,t){n(t,1,0)},null)}function v(n){return F._36(0,[(n()(),F._14(0,0,null,null,2,"div",[["class","city-map-background"]],[[24,"@fade",0]],null,null,null,null)),F._12(1,278528,null,0,Y.k,[F.y,F.o,F.J],{ngStyle:[0,"ngStyle"]},null),F._29(2,{"background-image":0})],function(n,t){n(t,1,0,n(t,2,0,"url("+t.component.staticMapsURL+")"))},function(n,t){n(t,0,0,void 0)})}function S(n){return F._36(0,[(n()(),F._14(0,0,null,null,1,"aq-parameter-average-indicator",[],null,null,null,f,qn)),F._12(1,114688,null,0,Qn,[Tn],{average:[0,"average"]},null)],function(n,t){n(t,1,0,t.context.$implicit)},null)}function C(n){return F._36(0,[F._28(0,Y.o,[]),F._28(0,Nn,[]),(n()(),F._14(2,0,null,null,53,"mat-card",[["class","city-card mat-card"]],null,null,null,G.d,G.a)),F._12(3,16384,null,0,q.u,[],null,null),F._12(4,49152,null,0,N.a,[],null,null),(n()(),F._34(-1,0,["\n    "])),(n()(),F._14(6,0,null,0,4,"div",[],null,null,null,null,null)),(n()(),F._34(-1,null,["\n        "])),(n()(),F._8(16777216,null,null,1,null,v)),F._12(9,16384,null,0,Y.h,[F.W,F.R],{ngIf:[0,"ngIf"]},null),(n()(),F._34(-1,null,[" \n    "])),(n()(),F._34(-1,0,["        \n    "])),(n()(),F._14(12,0,null,0,30,"mat-card-header",[["class","mat-card-header"]],null,null,null,G.c,G.b)),F._12(13,278528,null,0,Y.f,[F.x,F.y,F.o,F.J],{ngClass:[0,"ngClass"]},null),F._12(14,16384,null,0,q.u,[],null,null),F._12(15,49152,null,0,N.c,[],null,null),(n()(),F._34(-1,2,["\n        "])),(n()(),F._14(17,0,null,2,1,"aq-aqi-indicator",[],null,null,null,m,Hn)),F._12(18,114688,null,0,Kn,[Tn],{AQI:[0,"AQI"],overall:[1,"overall"]},null),(n()(),F._34(-1,2,["  \n        "])),(n()(),F._14(20,0,null,2,10,"div",[["class","city-title"]],null,null,null,null,null)),(n()(),F._34(-1,null,["\n            "])),(n()(),F._14(22,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),F._34(23,null,["",""])),F._30(24,1),(n()(),F._34(-1,null,["\n            "])),(n()(),F._14(26,0,null,null,3,"h5",[],null,null,null,null,null)),(n()(),F._34(27,null,["",""])),F._30(28,1),F._30(29,1),(n()(),F._34(-1,null,["\n        "])),(n()(),F._34(-1,2,["\n        "])),(n()(),F._14(32,0,null,2,9,"button",[["class","mat-icon-button"],["mat-icon-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0,a=n.component;if("click"===t){e=!1!==a.toggleContent()&&e}return e},K.b,K.a)),F._12(33,16384,null,0,q.u,[],null,null),F._12(34,180224,null,0,j.b,[F.K,F.o,H.a,W.h],null,null),F._12(35,16384,null,0,j.d,[],null,null),(n()(),F._34(-1,0,["\n            "])),(n()(),F._14(37,0,null,0,3,"mat-icon",[["aria-label","Additional city options"],["class","mat-icon"],["role","img"]],null,null,null,V.b,V.a)),F._12(38,16384,null,0,q.u,[],null,null),F._12(39,638976,null,0,J.b,[F.K,F.o,J.d,[8,null]],null,null),(n()(),F._34(40,0,["",""])),(n()(),F._34(-1,0,["\n        "])),(n()(),F._34(-1,2,["\n    "])),(n()(),F._34(-1,0,["\n    "])),(n()(),F._14(44,0,null,0,10,"mat-card-content",[["class","bg-0-7-white mat-card-content"]],null,null,null,null,null)),F._12(45,278528,null,0,Y.f,[F.x,F.y,F.o,F.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),F._12(46,16384,null,0,q.u,[],null,null),F._12(47,16384,null,0,N.b,[],null,null),(n()(),F._34(-1,null,["\n        "])),(n()(),F._14(49,0,null,null,4,"div",[["class","parameter-averages"]],null,null,null,null,null)),(n()(),F._34(-1,null,["\n            "])),(n()(),F._8(16777216,null,null,1,null,S)),F._12(52,802816,null,0,Y.g,[F.W,F.R,F.x],{ngForOf:[0,"ngForOf"]},null),(n()(),F._34(-1,null,["\n        "])),(n()(),F._34(-1,null,["\n    "])),(n()(),F._34(-1,0,["\n"]))],function(n,t){var l=t.component;n(t,9,0,l.staticMapsURL),n(t,13,0,"bg-0-7-"+l.overallAQIClass);n(t,18,0,l.overallAQI,!0),n(t,39,0);n(t,45,0,"bg-0-7-white",l.contentClass),n(t,52,0,l.parameterAverages)},function(n,t){var l=t.component;n(t,23,0,F._35(t,23,0,n(t,24,0,F._27(t,0),l.searchedCity.city))),n(t,27,0,F._35(t,27,0,n(t,29,0,F._27(t,0),F._35(t,27,0,n(t,28,0,F._27(t,1),l.searchedCity.country))))),n(t,32,0,F._27(t,34).disabled||null),n(t,40,0,l.buttonIcon)})}function b(n){return F._36(0,[(n()(),F._14(0,0,null,null,1,"aq-city-card",[],null,null,null,C,st)),F._12(1,114688,null,0,it,[ut,Vn,Zn],null,null)],function(n,t){n(t,1,0)},null)}function A(n){return F._36(0,[(n()(),F._14(0,0,null,null,4,"div",[],[[24,"@fadeSlide",0]],null,null,null,null)),(n()(),F._34(-1,null,["\n    "])),(n()(),F._14(2,0,null,null,1,"aq-city-card",[],null,null,null,C,st)),F._12(3,114688,null,0,it,[ut,Vn,Zn],{searchedCity:[0,"searchedCity"]},null),(n()(),F._34(-1,null,["\n"]))],function(n,t){n(t,3,0,t.context.$implicit)},function(n,t){n(t,0,0,void 0)})}function I(n){return F._36(0,[(n()(),F._8(16777216,null,null,1,null,A)),F._12(1,802816,null,0,Y.g,[F.W,F.R,F.x],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,1,0,t.component.searchedCities)},null)}function M(n){return F._36(0,[(n()(),F._14(0,0,null,null,1,"aq-city-cards-list",[],null,null,null,I,pt)),F._12(1,114688,null,0,ct,[],null,null)],function(n,t){n(t,1,0)},null)}function P(n){return F._36(0,[(n()(),F._14(0,0,null,null,1,"aq-search",[],null,[[null,"searchStarted"],[null,"addSearchedCity"]],function(n,t,l){var e=!0,a=n.component;if("searchStarted"===t){e=!1!==a.setSearchStarted(l)&&e}if("addSearchedCity"===t){e=!1!==a.addSearchedCity(l)&&e}return e},d,kn)),F._12(1,114688,null,0,Sn,[_n.e,vn,gn,$],{allCities:[0,"allCities"]},{searchStarted:"searchStarted",addSearchedCity:"addSearchedCity"}),(n()(),F._34(-1,null,["\n"])),(n()(),F._14(3,0,null,null,1,"aq-city-cards-list",[],null,null,null,I,pt)),F._12(4,114688,null,0,ct,[],{searchedCities:[0,"searchedCities"]},null)],function(n,t){var l=t.component;n(t,1,0,l.allCities),n(t,4,0,l.searchedCities)},null)}function w(n){return F._36(0,[(n()(),F._14(0,0,null,null,1,"aq-compare",[],null,null,null,P,_t)),F._12(1,114688,null,0,cn,[on,sn],null,null)],function(n,t){n(t,1,0)},null)}function L(n){return F._36(0,[(n()(),F._14(0,0,null,null,4,"div",[],[[24,"@slideOut",0]],null,null,null,null)),(n()(),F._34(-1,null,["\n        "])),(n()(),F._14(2,0,null,null,1,"aq-intro",[],null,null,null,e,D)),F._12(3,49152,null,0,E,[],null,null),(n()(),F._34(-1,null,["\n    "]))],null,function(n,t){n(t,0,0,void 0)})}function B(n){return F._36(0,[(n()(),F._14(0,0,null,null,1,"aq-banner",[],null,null,null,i,ln)),F._12(1,114688,null,0,nn,[$],null,null),(n()(),F._34(-1,null,["\n"])),(n()(),F._14(3,0,null,null,7,"div",[["class","wrapper"]],null,null,null,null,null)),(n()(),F._34(-1,null,["\n    "])),(n()(),F._8(16777216,null,null,1,null,L)),F._12(6,16384,null,0,Y.h,[F.W,F.R],{ngIf:[0,"ngIf"]},null),(n()(),F._34(-1,null,["    \n    "])),(n()(),F._14(8,0,null,null,1,"aq-compare",[],null,[[null,"searchStarted"]],function(n,t,l){var e=!0,a=n.component;if("searchStarted"===t){e=!1!==a.setSearchStarted(l)&&e}return e},P,_t)),F._12(9,114688,null,0,cn,[on,sn],null,{searchStarted:"searchStarted"}),(n()(),F._34(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0),n(t,6,0,!l.searchStarted),n(t,9,0)},null)}function k(n){return F._36(0,[(n()(),F._14(0,0,null,null,1,"aq-home",[],null,null,null,B,yt)),F._12(1,49152,null,0,en,[],null,null)],null,null)}function O(n){return F._36(0,[(n()(),F._14(0,0,null,null,1,"aq-home",[],null,null,null,B,yt)),F._12(1,49152,null,0,en,[],null,null)],null,null)}function R(n){return F._36(0,[(n()(),F._14(0,0,null,null,1,"aq-app",[],null,null,null,O,gt)),F._12(1,49152,null,0,T,[],null,null)],null,null)}Object.defineProperty(t,"__esModule",{value:!0});var F=l("/oeL"),x={production:!0,openaqApiUrl:"https://api.openaq.org/v1/",mapsApiUrl:"https://maps.googleapis.com/maps/api/",staticMapsKey:"AIzaSyBJ4wQTemqdOaXFsAmZotfakpevljfN2iY",randomizedMapsLongitude:!0},U=function(){function n(){}return n}(),T=function(){function n(){}return n.ctorParameters=function(){return[]},n}(),Q=l("8HKE"),G=l("z4MQ"),q=l("j5BN"),N=l("Ioj9"),E=function(){function n(){}return n.ctorParameters=function(){return[]},n}(),z=[],D=F._11({encapsulation:2,styles:z,data:{}}),K=(F._9("aq-intro",E,a,{},{},[]),l("wjk8")),j=l("ghl+"),H=l("V8+5"),W=l("8Xfy"),V=l("Bhux"),J=l("vgc3"),Y=l("qbdv"),Z={green:[0,230,118],yellow:[255,196,0],orange:[255,110,0],red:[213,0,0],purple:[126,87,194],maroon:[136,14,79]},X=l("6lRS"),$=function(){function n(n){this.matSnackBar=n}return n.prototype.error=function(n,t){return t&&console.error(t),this.matSnackBar.open(n,void 0,{duration:3e3,extraClasses:["error"]})},n.prototype.notify=function(n){return this.matSnackBar.open(n,void 0,{duration:2e3,extraClasses:["notify"]})},n.ctorParameters=function(){return[{type:X.a}]},n}(),nn=function(){function n(n){this.messagingService=n,this.colors=[]}return n.prototype.ngOnInit=function(){this.setColors()},n.prototype.openMenu=function(){this.messagingService.notify("Menu is under development :)")},n.prototype.setColors=function(){var n=this;Object.keys(Z).reverse().forEach(function(t){return n.colors.push(t)})},n.ctorParameters=function(){return[{type:$}]},n}(),tn=[],ln=F._11({encapsulation:2,styles:tn,data:{}}),en=(F._9("aq-banner",nn,o,{},{},[]),function(){function n(){this.searchStarted=!1}return n.prototype.setSearchStarted=function(n){this.searchStarted=n},n.ctorParameters=function(){return[]},n}()),an=l("CPp0"),rn=(l("GQSG"),function(){function n(){}return n.prototype.buildBaseQueryString=function(n){return this.setBaseQueryArray(n).join("&")||""},n.prototype.buildOpenAQQueryString=function(n){return this.buildQueryStringIncludingArrayProps(n,"[]")},n.prototype.buildMapsQueryString=function(n){return this.buildQueryStringIncludingArrayProps(n,"")},n.prototype.setBaseQueryArray=function(n){var t=this,l=[];return Object.keys(n).forEach(function(e){Array.isArray(n[e])||null==n[e]||l.push(t.encode(e,n[e]))}),l},n.prototype.buildQueryStringIncludingArrayProps=function(n,t){var l=this,e=this.setBaseQueryArray(n),a=t;return Object.keys(n).forEach(function(t){Array.isArray(n[t])&&n[t].forEach(function(n){null!=n&&e.push(l.encode(t+a,n))})}),e.join("&")||""},n.prototype.encode=function(n,t){return encodeURIComponent(n)+"="+encodeURIComponent(t.toString())},n}()),un=function(){function n(n,t){this.http=n,this.apiService=t}return n.prototype.getCities=function(n){return this.http.get(x.openaqApiUrl+"cities?"+this.apiService.buildOpenAQQueryString(n)).map(function(n){return n.json().results})},n.ctorParameters=function(){return[{type:an.d},{type:rn}]},n}(),on=function(){function n(n){this.citiesApi=n}return n.prototype.getAllCities=function(){var n={limit:9999};return this.citiesApi.getCities(n)},n.ctorParameters=function(){return[{type:un}]},n}(),sn=function(){function n(){}return n.prototype.sortCities=function(n,t){var l=n.city.toLowerCase(),e=t.city.toLowerCase();return l<e?-1:l>e?1:0},n}(),cn=function(){function n(n,t){this.citiesHandlerService=n,this.compareService=t,this.searchStarted=new F.q,this.allCities=[],this.searchedCities=[]}return n.prototype.ngOnInit=function(){this.loadCities()},n.prototype.loadCities=function(){var n=this;this.citiesHandlerService.getAllCities().subscribe(function(t){return n.allCities=t.sort(n.compareService.sortCities)})},n.prototype.addSearchedCity=function(n){this.searchedCities.unshift(n)},n.prototype.setSearchStarted=function(n){this.searchStarted.emit(n)},n.ctorParameters=function(){return[{type:on},{type:sn}]},n}(),dn=l("kfoA"),pn=l("cC+T"),fn=l("8oXs"),_n=l("bm2B"),hn=l("6OSA"),yn=l("Lpd/"),mn=(l("RXa1"),l("HT7u"),function(){function n(n,t){this.http=n,this.apiService=t}return n.prototype.getLocations=function(n){return this.http.get(x.openaqApiUrl+"locations?"+this.apiService.buildOpenAQQueryString(n)).map(function(n){return n.json().results})},n.ctorParameters=function(){return[{type:an.d},{type:rn}]},n}()),gn=function(){function n(n){this.locationsApi=n}return n.prototype.getLocationsByCityAndCountry=function(n,t){var l={city:n,country:t};return this.locationsApi.getLocations(l)},n.ctorParameters=function(){return[{type:mn}]},n}(),vn=function(){function n(){}return n.prototype.validateSearchInput=function(n,t){var l=t.find(function(t){return t.city.toUpperCase()===n.toUpperCase()});return l?l.city:null},n.prototype.filterCities=function(n,t){return n?this.filterCitiesWhenNameExists(n,t):t.slice(0,5)},n.prototype.filterCitiesWhenNameExists=function(n,t){return t.filter(function(t){return 0===t.city.toLowerCase().indexOf(n.toLowerCase())}).slice(0,5)},n}(),Sn=function(){function n(n,t,l,e){this.fb=n,this.searchService=t,this.locationsHandlerService=l,this.messagingService=e,this.allCities=[],this.searchStarted=new F.q,this.addSearchedCity=new F.q,this.initialSearch=!1,this.searching=!1}return n.prototype.ngOnInit=function(){this.newForm(),this.filterCitiesOnInputChange()},n.prototype.attemptSearch=function(){if(!this.searching){this.searching=!0;var n=this.searchService.validateSearchInput(this.searchForm.value.searchInput,this.allCities);n?this.search(n):(this.messagingService.error("Please select a valid city from the dropdown"),this.searching=!1)}},n.prototype.setSearchStarted=function(){this.initialSearch||(this.initialSearch=!0,this.searchStarted.emit(!0))},n.prototype.newForm=function(){this.searchForm=this.fb.group({searchInput:[""]})},n.prototype.filterCitiesOnInputChange=function(){var n=this;this.filteredCities=this.searchForm.get("searchInput").valueChanges.startWith(null).map(function(t){return n.searchService.filterCities(t,n.allCities)})},n.prototype.search=function(n){var t=this,l=this.allCities.find(function(t){return t.city===n}),e=l.country;this.locationsHandlerService.getLocationsByCityAndCountry(n,e).subscribe(function(n){t.outputSearchedCity(l,n)},function(e){t.handleLocationSearchError(e,n,l)})},n.prototype.outputSearchedCity=function(n,t){this.searching=!1,this.clearSearchInput();var l=n;l.locationsResponse=t,this.addSearchedCity.emit(l)},n.prototype.handleLocationSearchError=function(n,t,l){this.messagingService.error("Failed to find data for "+t.toUpperCase(),"Search error for "+t+", "+l+": "+n)},n.prototype.clearSearchInput=function(){this.searchForm.get("searchInput").setValue("")},n.ctorParameters=function(){return[{type:_n.e},{type:vn},{type:gn},{type:$}]},n}(),Cn=l("1ini"),bn=l("OFGE"),An=l("l6RC"),In=l("fc+i"),Mn=(l("7Wa7"),l("TO51")),Pn=function(){function n(n){this.control=n,this.destroy=new Mn.a}return n.prototype.ngOnInit=function(){this.subscribeToChanges()},n.prototype.ngOnDestroy=function(){this.destroy.next()},n.prototype.subscribeToChanges=function(){var n=this;this.control.valueChanges.takeUntil(this.destroy).subscribe(function(t){return n.upperCase(t)})},n.prototype.upperCase=function(n){var t=n.toUpperCase();n!==t&&this.control.control.setValue(t)},n.ctorParameters=function(){return[{type:_n.j}]},n}(),wn=l("SlD5"),Ln=l("Elun"),Bn=[],kn=F._11({encapsulation:2,styles:Bn,data:{}}),On=(F._9("aq-search",Sn,p,{allCities:"allCities"},{searchStarted:"searchStarted",addSearchedCity:"addSearchedCity"},[]),{pm25:"PM 2.5",pm10:"PM 10",no2:"NO\u2082",so2:"SO\u2082",o3:"O\u2083",co:"CO",bc:"BC"}),Rn=function(){function n(){}return n.prototype.transform=function(n){return n?On.hasOwnProperty(n)?On[n]:n:""},n}(),Fn={good:[0,50],moderate:[51,100],unhealthySensitive:[101,150],unhealthy:[151,200],veryUnhealthy:[201,300],hazardous1:[301,400],hazardous2:[401,500]},xn={good:"Good",moderate:"Moderate",unhealthySensitive:"Unhealthy for Sensitive Groups",unhealthy:"Unhealthy",veryUnhealthy:"Very Unhealthy",hazardous1:"Hazardous",hazardous2:"Hazardous"},Un={good:"green",moderate:"yellow",unhealthySensitive:"orange",unhealthy:"red",veryUnhealthy:"purple",hazardous1:"maroon",hazardous2:"maroon"},Tn=function(){function n(){}return n.prototype.getAQIClassName=function(n){var t,l=Math.round(n);return Object.keys(Fn).some(function(n){if(Fn[n][0]<=l&&l<=Fn[n][1])return t=Un[n],!0}),t||"unknown"},n.prototype.getLevelDescription=function(n){return xn.hasOwnProperty(n)?xn[n]:"Unknown"},n.ctorParameters=function(){return[]},n}(),Qn=function(){function n(n){this.namingService=n}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[{type:Tn}]},n}(),Gn=[],qn=F._11({encapsulation:2,styles:Gn,data:{animation:[{type:7,name:"fade",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"500ms"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{opacity:1},offset:null},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"500ms"}],options:null}],options:{}}]}}),Nn=(F._9("aq-parameter-average-indicator",Qn,_,{average:"average"},{},[]),function(){function n(){}return n.prototype.transform=function(n){return n?En.hasOwnProperty(n)?En[n]:n:""},n}()),En={AF:"Afghanistan",AX:"Aland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua And Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia And Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, Democratic Republic",CK:"Cook Islands",CR:"Costa Rica",CI:"Cote D'Ivoire",HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island & Mcdonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic Of",IQ:"Iraq",IE:"Ireland",IM:"Isle Of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KR:"Korea",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libyan Arab Jamahiriya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States Of",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",AN:"Netherlands Antilles",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena",KN:"Saint Kitts And Nevis",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre And Miquelon",VC:"Saint Vincent And Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome And Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia And Sandwich Isl.",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard And Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad And Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks And Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis And Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},zn=l("OBOK"),Dn=l("0bRs"),Kn=function(){function n(n){this.namingService=n,this.overall=!1}return n.prototype.ngOnInit=function(){},Object.defineProperty(n.prototype,"indicatorClass",{get:function(){var n=this.namingService.getAQIClassName(this.AQI);return n="bg-"+n,this.overall?n+" overall":n},enumerable:!0,configurable:!0}),n.ctorParameters=function(){return[{type:Tn}]},n}(),jn=[],Hn=F._11({encapsulation:2,styles:jn,data:{animation:[{type:7,name:"fade",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"500ms"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{opacity:1},offset:null},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"500ms"}],options:null}],options:{}}]}}),Wn=(F._9("aq-aqi-indicator",Kn,g,{AQI:"AQI",overall:"overall"},{},[]),l("ivSB"),function(){function n(n,t){this.http=n,this.apiService=t}return n.prototype.getLatest=function(n){return this.http.get(x.openaqApiUrl+"latest?"+this.apiService.buildOpenAQQueryString(n)).map(function(n){return n.json().results})},n.ctorParameters=function(){return[{type:an.d},{type:rn}]},n}()),Vn=function(){function n(n){this.latestApi=n}return n.prototype.getLatestByCityAndCountry=function(n,t){var l={city:n,country:t};return this.latestApi.getLatest(l)},n.ctorParameters=function(){return[{type:Wn}]},n}(),Jn=function(){function n(n,t){this.apiService=n,this.http=t}return n.prototype.getImage=function(n){return this.http.get(x.mapsApiUrl+"staticmap?"+this.apiService.buildMapsQueryString(n),{responseType:an.g.Blob}).map(function(n){return n.blob()})},n.ctorParameters=function(){return[{type:rn},{type:an.d}]},n}(),Yn={center:"",zoom:2,size:"550x550",key:"",scale:2,markers:"color:black|size:small",style:["feature:poi|visibility:off","feature:road|Cvisibility:off","feature:transit|visibility:off","feature:water|color:0xcccccc","feature:landscape|color:0xffffff","feature:administrative|element:labels|visibility:off","feature:administrative.country|element:geometry.stroke|color:0x555555","feature:administrative|element:geometry.fill|visibility:off"]},Zn=function(){function n(n){this.staticMapsApi=n}return n.prototype.getImageByLatLong=function(n,t){var l=Object.assign({},Yn);return l.center=n.toString()+","+(t+this.latOffset()).toString(),l.markers+="|"+n.toString()+","+t.toString(),l.key=x.staticMapsKey,this.staticMapsApi.getImage(l)},n.prototype.latOffset=function(){return x.randomizedMapsLongitude?(Math.random()>=.5?-1:1)*Math.random()*-30-30:0},n.ctorParameters=function(){return[{type:Jn}]},n}(),Xn={parameter:"pm25",unit:"\xb5g/m\xb3",hours:24,decimalPlaces:1,levels:{good:[0,12],moderate:[12.1,35.4],unhealthySensitive:[35.5,55.4],unhealthy:[55.5,150.4],veryUnhealthy:[150.5,250.4],hazardous1:[250.5,350.4],hazardous2:[350.5,500.4]}},$n={parameter:"pm10",unit:"\xb5g/m\xb3",hours:24,decimalPlaces:0,levels:{good:[0,54],moderate:[55,154],unhealthySensitive:[155,254],unhealthy:[255,354],veryUnhealthy:[355,424],hazardous1:[425,504],hazardous2:[505,604]}},nt={parameter:"o3",unit:"ppm",hours:8,decimalPlaces:3,levels:{good:[0,.054],moderate:[.055,.07],unhealthySensitive:[.071,.085],unhealthy:[.086,.105],veryUnhealthy:[.106,.2],hazardous1:[null,null],hazardous2:[null,null]}},tt={parameter:"co",unit:"ppm",hours:8,decimalPlaces:1,levels:{good:[0,4.4],moderate:[4.5,9.4],unhealthySensitive:[9.5,12.4],unhealthy:[12.5,15.4],veryUnhealthy:[15.5,30.4],hazardous1:[30.5,40.4],hazardous2:[40.5,50.4]}},lt={parameter:"so2",unit:"ppb",hours:1,decimalPlaces:0,levels:{good:[0,35],moderate:[36,75],unhealthySensitive:[76,185],unhealthy:[186,304],veryUnhealthy:[305,604],hazardous1:[605,804],hazardous2:[805,1004]}},et={parameter:"no2",unit:"ppb",hours:1,decimalPlaces:0,levels:{good:[0,53],moderate:[54,100],unhealthySensitive:[101,360],unhealthy:[361,649],veryUnhealthy:[650,1249],hazardous1:[1250,1649],hazardous2:[1650,2049]}},at={pm25:Xn,pm10:$n,o3:nt,co:tt,so2:lt,no2:et,bc:null},rt=function(){function n(){}return n.prototype.calculateAQIByParameter=function(n,t){var l=at[t];if(null===l)return null;if(void 0===l)throw new Error("invalid parameter given for AQI calculation");return this.calculateAQIByIndex(n,l)},n.prototype.calculateAQIByIndex=function(n,t){var l,e=this,a=this.truncateAtDecimal(n,t.decimalPlaces);return Object.keys(t.levels).some(function(n){var r=t.levels[n][0],u=t.levels[n][1],i=Fn[n][0],o=Fn[n][1];if(r<=a&&a<=u)return l=e.linearCalculation(a,r,u,i,o),!0})?Math.round(l):this.handleUnmatchedLevel(a,t,t.decimalPlaces)},n.prototype.truncateAtDecimal=function(n,t){return+(Math.floor(n*Math.pow(10,t))/Math.pow(10,t)).toFixed(t)},n.prototype.linearCalculation=function(n,t,l,e,a){return(n-t)*(a-e)/(l-t)+e},n.prototype.handleUnmatchedLevel=function(n,t,l){if(n>=t.levels.hazardous2[1])return Fn.hazardous2[1];if(n<=0)return Fn.good[0];throw new Error("Failed to calculate AQI for "+t.parameter+" parameter,with value of "+n+" "+t.unit)},n.ctorParameters=function(){return[]},n}(),ut=function(){function n(n,t,l){this.calculationService=n,this.namingService=t,this.staticMapsHandlerService=l}return n.prototype.getStaticMapsImageFileURL=function(n){var t=this,l=this.getLatLong(n);return this.staticMapsHandlerService.getImageByLatLong(l.latitude,l.longitude).toPromise().then(function(n){return t.createImageFromBlob(n)})},n.prototype.getParameterAverages=function(n,t){var l=this,e=[];return this.verifyCityAndLatest(n,t)&&this.getAvailableParameters(n).forEach(function(n){return e.push(l.getParameterAverage(n,t))}),e},n.prototype.getOverallAQI=function(n){return!n||n.length<=0?null:n.map(function(n){return n.AQI}).reduce(function(n,t){return Math.max(n,t)})},n.prototype.getAQIClass=function(n){return null==n?null:this.namingService.getAQIClassName(n)},n.prototype.createImageFromBlob=function(n){var t=new FileReader;return n?(t.readAsDataURL(n),new Promise(function(n){t.onloadend=function(){return n(t.result)}})):Promise.resolve(null)},n.prototype.getLatLong=function(n){var t=this,l={latitude:0,longitude:0};return n.locationsResponse.some(function(n){if(console.log(n),t.hasLatLong(n.coordinates))return l.latitude=n.coordinates.latitude,l.longitude=n.coordinates.longitude,!0}),l},n.prototype.hasLatLong=function(n){return!!(n&&n.latitude&&n.longitude)},n.prototype.verifyCityAndLatest=function(n,t){return!!(n&&n.city&&n.locationsResponse&&n.locationsResponse.length>0&&t&&t.length>0)},n.prototype.getAvailableParameters=function(n){var t=[];return n.locationsResponse.forEach(function(n){n.parameters.forEach(function(n){-1===t.findIndex(function(t){return t===n})&&t.push(n)})}),t},n.prototype.getParameterAverage=function(n,t){var l=this.getLatestMeasurementsByParameter(n,t),e=this.getConcentrationAvgByParameter(n,l),a=this.getUnit(l),r=this.getAQIByParameterAndConcentration(n,e);return{parameter:n,concentration:e,unit:a,AQI:r,class:this.getAQIClass(r),dataPoints:l.length}},n.prototype.getLatestMeasurementsByParameter=function(n,t){var l=[];return t.forEach(function(t){var e=t.measurements.find(function(t){return t.parameter===n});e&&l.push(e)}),l},n.prototype.getConcentrationAvgByParameter=function(n,t){var l=t.map(function(n){return n.value});return l.reduce(function(n,t){return n+t},0)/l.length},n.prototype.getUnit=function(n){var t;if(n.some(function(n){if(t&&t!=n.unit)return!0;t=n.unit})){var l=n.map(function(n){return n.unit}).toString();throw new Error("Tried to calculate averages of different units for parameter "+n[0].parameter+", with units "+l)}return t},n.prototype.getAQIByParameterAndConcentration=function(n,t){return this.calculationService.calculateAQIByParameter(t,n)},n.ctorParameters=function(){return[{type:rt},{type:Tn},{type:Zn}]},n}(),it=function(){function n(n,t,l){this.cityService=n,this.latestHandlerService=t,this.staticMapsHandlerService=l,this.parameterAverages=[],this.staticMapsURL="",this.expanded=!1}return Object.defineProperty(n.prototype,"contentClass",{get:function(){return this.expanded?"expanded "+this.getRowsClass():"closed"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"buttonIcon",{get:function(){return this.expanded?"expand_less":"expand_more"},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this;console.log("searchedCity:",this.searchedCity),this.getLatestCityMeasurements().subscribe(function(t){return n.setAveragesAndClasses(t)}),this.cityService.getStaticMapsImageFileURL(this.searchedCity).then(function(t){return n.staticMapsURL=t})},n.prototype.toggleContent=function(){this.expanded=!this.expanded},n.prototype.getRowsClass=function(){return"rows-"+Math.ceil(this.parameterAverages.length/2)},n.prototype.getLatestCityMeasurements=function(){return this.latestHandlerService.getLatestByCityAndCountry(this.searchedCity.city,this.searchedCity.country)},n.prototype.setAveragesAndClasses=function(n){this.latestResponse=n,this.parameterAverages=this.cityService.getParameterAverages(this.searchedCity,this.latestResponse),this.overallAQI=this.cityService.getOverallAQI(this.parameterAverages),this.overallAQIClass=this.cityService.getAQIClass(this.overallAQI)},n.ctorParameters=function(){return[{type:ut},{type:Vn},{type:Zn}]},n}(),ot=[],st=F._11({encapsulation:2,styles:ot,data:{animation:[{type:7,name:"fade",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"500ms"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{opacity:1},offset:null},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"500ms"}],options:null}],options:{}}]}}),ct=(F._9("aq-city-card",it,b,{searchedCity:"searchedCity"},{},[]),function(){function n(){this.animationStarted=!1}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[]},n}()),dt=[],pt=F._11({encapsulation:2,styles:dt,data:{animation:[{type:7,name:"fadeSlide",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{transform:"translateY(-100%)",opacity:0},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(0)",opacity:1},offset:null},timings:"300ms"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{transform:"translateY(0)",opacity:1},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(-100%)",opacity:0},offset:null},timings:"300ms"}],options:null}],options:{}}]}}),ft=(F._9("aq-city-cards-list",ct,M,{searchedCities:"searchedCities"},{},[]),[]),_t=F._11({encapsulation:2,styles:ft,data:{}}),ht=(F._9("aq-compare",cn,w,{},{searchStarted:"searchStarted"},[]),[]),yt=F._11({encapsulation:2,styles:ht,data:{animation:[{type:7,name:"slideOut",definitions:[{type:1,expr:":leave",animation:[{type:6,styles:{transform:"translateY(0)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(-150%)"},offset:null},timings:"500ms"}],options:null}],options:{}}]}}),mt=(F._9("aq-home",en,k,{},{},[]),[]),gt=F._11({encapsulation:2,styles:mt,data:{}}),vt=F._9("aq-app",T,R,{},{},[]),St=l("f9zQ"),Ct=l("fL27"),bt=l("EyWH"),At=l("4jwp"),It=l("LT5m"),Mt=function(){function n(){}return n}(),Pt=l("CZgk"),wt=function(){function n(){}return n}(),Lt=function(){function n(){}return n}(),Bt=function(){function n(){}return n}(),kt=function(){function n(){}return n}(),Ot=function(){function n(){}return n}(),Rt=function(){function n(){}return n}(),Ft=function(){function n(){}return n}(),xt=function(){function n(){}return n}(),Ut=function(){function n(){}return n}(),Tt=function(){function n(){}return n}(),Qt=function(){function n(){}return n}(),Gt=function(){function n(){}return n}(),qt=function(){function n(){}return n}(),Nt=F._10(U,[T],function(n){return F._24([F._25(512,F.k,F._6,[[8,[Q.a,Q.b,vt]],[3,F.k],F.B]),F._25(5120,F.z,F._23,[[3,F.z]]),F._25(4608,Y.j,Y.i,[F.z]),F._25(4608,F.i,F.i,[]),F._25(5120,F.a,F._15,[]),F._25(5120,F.x,F._20,[]),F._25(5120,F.y,F._21,[]),F._25(4608,In.c,In.t,[Y.c]),F._25(6144,F.N,null,[In.c]),F._25(4608,In.f,In.g,[]),F._25(5120,In.d,function(n,t,l,e){return[new In.l(n),new In.p(t),new In.o(l,e)]},[Y.c,Y.c,Y.c,In.f]),F._25(4608,In.e,In.e,[In.d,F.D]),F._25(135680,In.n,In.n,[Y.c]),F._25(4608,In.m,In.m,[In.e,In.n]),F._25(5120,St.a,Ct.d,[]),F._25(5120,St.c,Ct.e,[]),F._25(4608,St.b,Ct.c,[St.a,St.c]),F._25(5120,F.L,Ct.f,[In.m,St.b,F.D]),F._25(6144,In.q,null,[In.n]),F._25(4608,F.S,F.S,[F.D]),F._25(4608,In.h,In.h,[Y.c]),F._25(4608,In.j,In.j,[Y.c]),F._25(4608,an.c,an.c,[]),F._25(4608,an.h,an.b,[]),F._25(5120,an.j,an.k,[]),F._25(4608,an.i,an.i,[an.c,an.h,an.j]),F._25(4608,an.f,an.a,[]),F._25(5120,an.d,an.l,[an.i,an.f]),F._25(4608,_n.e,_n.e,[]),F._25(4608,_n.r,_n.r,[]),F._25(4608,bt.b,Ct.b,[F.L,In.b]),F._25(6144,An.b,null,[In.b]),F._25(4608,An.c,An.c,[[2,An.b]]),F._25(4608,H.a,H.a,[]),F._25(5120,At.c,At.a,[[3,At.c],F.D,H.a]),F._25(5120,At.f,At.e,[[3,At.f],H.a,F.D,At.c]),F._25(4608,bn.f,bn.f,[At.c,At.f]),F._25(5120,bn.d,bn.i,[[3,bn.d]]),F._25(4608,bn.l,bn.l,[At.f]),F._25(4608,bn.b,bn.b,[bn.f,bn.d,F.k,bn.l,F.e,F.v,F.D]),F._25(5120,bn.j,bn.k,[bn.b]),F._25(5120,Cn.a,Cn.b,[bn.b]),F._25(4608,W.j,W.j,[H.a]),F._25(4608,W.i,W.i,[W.j,H.a,F.D]),F._25(136192,W.e,W.c,[[3,W.e],H.a]),F._25(5120,W.n,W.m,[[3,W.n],[2,W.k],H.a]),F._25(5120,W.h,W.f,[[3,W.h],F.D,H.a]),F._25(5120,J.d,J.a,[[3,J.d],[2,an.d],In.c]),F._25(4608,q.e,q.e,[]),F._25(4608,It.b,It.b,[bn.b,W.n,F.v,[3,It.b]]),F._25(4608,$,$,[It.b]),F._25(4608,rt,rt,[]),F._25(4608,Tn,Tn,[]),F._25(4608,rn,rn,[]),F._25(4608,Jn,Jn,[rn,an.d]),F._25(4608,Zn,Zn,[Jn]),F._25(4608,ut,ut,[rt,Tn,Zn]),F._25(4608,vn,vn,[]),F._25(4608,sn,sn,[]),F._25(4608,un,un,[an.d,rn]),F._25(4608,Wn,Wn,[an.d,rn]),F._25(4608,mn,mn,[an.d,rn]),F._25(4608,on,on,[un]),F._25(4608,Vn,Vn,[Wn]),F._25(4608,gn,gn,[mn]),F._25(512,Y.b,Y.b,[]),F._25(1024,F.p,In.r,[]),F._25(1024,F.b,function(n,t){return[In.s(n,t)]},[[2,In.i],[2,F.C]]),F._25(512,F.c,F.c,[[2,F.b]]),F._25(131584,F._13,F._13,[F.D,F._7,F.v,F.p,F.k,F.c]),F._25(2048,F.e,null,[F._13]),F._25(512,F.d,F.d,[F.e]),F._25(512,In.a,In.a,[[3,In.a]]),F._25(512,an.e,an.e,[]),F._25(512,_n.p,_n.p,[]),F._25(512,_n.n,_n.n,[]),F._25(512,Ct.a,Ct.a,[]),F._25(512,Mt,Mt,[]),F._25(512,q.c,q.c,[]),F._25(512,An.a,An.a,[]),F._25(256,q.g,!0,[]),F._25(512,q.m,q.m,[[2,q.g]]),F._25(512,H.b,H.b,[]),F._25(512,q.y,q.y,[]),F._25(512,q.w,q.w,[]),F._25(512,q.t,q.t,[]),F._25(512,Pt.f,Pt.f,[]),F._25(512,At.b,At.b,[]),F._25(512,bn.e,bn.e,[]),F._25(512,Cn.d,Cn.d,[]),F._25(512,W.a,W.a,[]),F._25(512,j.c,j.c,[]),F._25(512,N.d,N.d,[]),F._25(512,yn.c,yn.c,[]),F._25(512,J.c,J.c,[]),F._25(512,wn.b,wn.b,[]),F._25(512,pn.b,pn.b,[]),F._25(512,Dn.b,Dn.b,[]),F._25(512,wt,wt,[]),F._25(512,It.d,It.d,[]),F._25(512,Lt,Lt,[]),F._25(512,Bt,Bt,[]),F._25(512,kt,kt,[]),F._25(512,Ot,Ot,[]),F._25(512,Rt,Rt,[]),F._25(512,Ft,Ft,[]),F._25(512,xt,xt,[]),F._25(512,Ut,Ut,[]),F._25(512,Tt,Tt,[]),F._25(512,Qt,Qt,[]),F._25(512,Gt,Gt,[]),F._25(512,qt,qt,[]),F._25(512,U,U,[])])});x.production&&Object(F._0)(),Object(In.k)().bootstrapModuleFactory(Nt).catch(function(n){return console.log(n)})},gFIY:function(n,t){function l(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}l.keys=function(){return[]},l.resolve=l,n.exports=l,l.id="gFIY"}},[0]);